springframework roo metadata util collections util comparator util hashmap hash map util hashset hash set util map util set util sortedset sorted set util treeset tree set felix scr annotations component felix scr annotations reference felix scr annotations referencecardinality reference cardinality felix scr annotations referencepolicy reference policy felix scr annotations referencestrategy reference strategy felix scr annotations service osgi service component componentcontext component context springframework roo metadata internal abstractmetadatacache metadata cache springframework roo support style tostringcreator creator springframework roo support util implementation link metadataservice metadata service implementation thread safe accessed single thread time enforced process manager semantics avoid cost synchronization author ben alex component service reference metadataprovider metadata provider strategy referencestrategy reference strategy event policy referencepolicy reference policy dynamic referenceinterface reference metadataprovider metadata provider cardinality referencecardinality reference cardinality optional multiple defaultmetadataservice metadata service abstractmetadatacache metadata cache metadataservice metadata service reference metadatadependencyregistry metadata dependency registry metadatadependencyregistry metadata dependency registry validgets valid recursivegets recursive cacheputs cache puts cachehits cache hits cachemisses cache misses cacheevictions cache evictions set metadataprovider metadata provider providers hashset hash set metadataprovider metadata provider map metadataprovider metadata provider providermap provider map hashmap hash map metadataprovider metadata provider mutex lock set activerequests active requests hashset hash set bindmetadataprovider bind metadata provider metadataprovider metadata provider lock notnull metadata provider required mid getprovidestype type istrue metadataidentificationutils metadata identification utils isidentifyingclass identifying mid metadata provider violated contract returning mid istrue providermap provider map containskey key mid metadata provider providermap provider map mid providing metadata mid providers add providermap provider map mid unbindmetadataprovider unbind metadata provider metadataprovider metadata provider lock mid getprovidestype type providers remove providermap provider map remove mid activate componentcontext component context context metadatadependencyregistry metadata dependency registry addnotificationlistener add notification listener deactivate componentcontext component context context metadatadependencyregistry metadata dependency registry removenotificationlistener remove notification listener sortedset sorted set metadataprovider metadata provider getregisteredproviders registered providers sortedset sorted set metadataprovider metadata provider sortedproviders sorted providers treeset tree set metadataprovider metadata provider comparator metadataprovider metadata provider compare metadataprovider metadata provider metadataprovider metadata provider getclass getname compareto compare getclass getname lock sortedproviders sorted providers addall add providers collections unmodifiablesortedset unmodifiable sorted set sortedproviders sorted providers metadataprovider metadata provider getregisteredprovider registered provider metadataidentificationstring metadata identification istrue metadataidentificationutils metadata identification utils isvalid valid metadataidentificationstring metadata identification metadata identification metadataidentificationstring metadata identification valid istrue metadataidentificationutils metadata identification utils isidentifyingclass identifying metadataidentificationstring metadata identification metadata identification metadataidentificationstring metadata identification identify lock providermap provider map metadataidentificationstring metadata identification metadataitem metadata item metadataidentificationstring metadata identification evictcache evict cache istrue metadataidentificationutils metadata identification utils isidentifyinginstance identifying instance metadataidentificationstring metadata identification metadata identification metadataidentificationstring metadata identification identify metadata instance lock activerequests active requests metadataidentificationstring metadata identification recursivegets recursive validgets valid evictcache evict cache cache metadataitem metadata item result getfromcache cache metadataidentificationstring metadata identification result cachehits cache hits result cachemisses cache misses infinite loop management activerequests active requests add metadataidentificationstring metadata identification destination mdclassid metadataidentificationutils metadata identification utils create metadataidentificationutils metadata identification utils getmetadataclass metadata metadataidentificationstring metadata identification metadataprovider metadata provider getregisteredprovider registered provider mdclassid notnull metadata provider registered provide metadata identifier metadataidentificationstring metadata identification mdclassid appears valid key valid provider let eviction requested evictcache evict cache evict metadataidentificationstring metadata identification cacheevictions cache evictions item metadataitem metadata item result metadataidentificationstring metadata identification item isn evict cache result evictcache evict cache evict metadataidentificationstring metadata identification cacheevictions cache evictions cache isn result putincache cache metadataidentificationstring metadata identification result cacheputs cache puts activerequests active requests remove metadataidentificationstring metadata identification result metadataitem metadata item metadataidentificationstring metadata identification metadataidentificationstring metadata identification notify upstreamdependency upstream dependency downstreamdependency downstream dependency istrue metadataidentificationutils metadata identification utils isvalid valid upstreamdependency upstream dependency upstream dependency invalid metadata identification upstreamdependency upstream dependency istrue metadataidentificationutils metadata identification utils isvalid valid downstreamdependency downstream dependency downstream dependency invalid metadata identification downstreamdependency downstream dependency lock destination mdclassid metadataidentificationutils metadata identification utils create metadataidentificationutils metadata identification utils getmetadataclass metadata downstreamdependency downstream dependency metadataprovider metadata provider getregisteredprovider registered provider mdclassid provider consume notification contract metadatanotificationlistener metadata notification listener provider handle notification delegate rely provider evict items cache applicable metadatanotificationlistener metadata notification listener notify upstreamdependency upstream dependency downstreamdependency downstream dependency contract ensure evict item recreate destination instance meaningful operation metadataidentificationutils metadata identification utils isidentifyinginstance identifying instance downstreamdependency downstream dependency downstreamdependency downstream dependency contract notify listeners downstream instance changed metadatadependencyregistry metadata dependency registry notifydownstream notify downstream downstreamdependency downstream dependency evict metadataidentificationstring metadata identification lock clear cache verifies argument valid time evict metadataidentificationstring metadata identification evict downstream dependencies metadata depended evicted metadata downstream metadatadependencyregistry metadata dependency registry getdownstream downstream metadataidentificationstring metadata identification evict instance instance cache metadataidentificationutils metadata identification utils isidentifyinginstance identifying instance downstream evict downstream evictall evict lock clear cache evictall evict clear caches metadata providers support metadataprovider metadata provider getregisteredproviders registered providers metadatacache metadata cache metadatacache metadata cache evictall evict tostring tostringcreator creator tsc tostringcreator creator tsc append providers getregisteredproviders registered providers tsc append validgets valid validgets valid tsc append recursivegets recursive recursivegets recursive tsc append cacheputs cache puts cacheputs cache puts tsc append cachehits cache hits cachehits cache hits tsc append cachemisses cache misses cachemisses cache misses tsc append cacheevictions cache evictions cacheevictions cache evictions tsc append cachecurrentsize cache current size getcachesize cache size tsc append cachemaximumsize cache maximum size getmaxcapacity max capacity tsc tostring