springframework roo addon dbre model fileinputstream file input stream inputstream input stream outputstream output stream sql connection sql databasemetadata database meta data sql sqlexception sql exception util collections util hashmap hash map util list util map util properties util set javax xml parsers documentbuilder document builder felix scr annotations component felix scr annotations reference felix scr annotations service springframework roo addon dbre jdbc connectionprovider connection provider springframework roo addon propfiles propfileoperations prop file operations springframework roo file monitor event filedetails file details springframework roo process manager filemanager file manager springframework roo project path springframework roo project projectoperations project operations springframework roo support util springframework roo support util stringutils utils springframework roo support util xmlutils xml utils dom document dom element implementation link dbremodelservice dbre model service author alan stewart component service dbremodelserviceimpl dbre model service impl dbremodelservice dbre model service reference connectionprovider connection provider connectionprovider connection provider reference filemanager file manager filemanager file manager reference projectoperations project operations projectoperations project operations reference propfileoperations prop file operations propfileoperations prop file operations schema lastschema schema map schema database cachedintrospections cached introspections hashmap hash map schema database supportsschema supports schema displayaddons display add ons runtimeexception runtime exception connection connection connection getconnection connection displayaddons display add ons databasemetadata database meta data databasemetadata database meta data connection getmetadata meta data schematerm schema term databasemetadata database meta data getschematerm schema term stringutils utils hastext text schematerm schema term schematerm schema term equalsignorecase equals ignore schema exception illegalstateexception illegal exception connectionprovider connection provider closeconnection close connection connection set schema getschemas schemas displayaddons display add ons connection connection connection getconnection connection displayaddons display add ons schemaintrospector schema introspector introspector schemaintrospector schema introspector connection introspector getschemas schemas exception collections emptyset empty set connectionprovider connection provider closeconnection close connection connection database getdatabasefromcache database cache cachedintrospections cached introspections containskey key lastschema schema cachedintrospections cached introspections lastschema schema database getdatabase database dbrexmlpath dbre xml path getdbrexmlpath dbre xml path stringutils utils hastext text dbrexmlpath dbre xml path filemanager file manager exists dbrexmlpath dbre xml path filedetails file details filedetails file details filemanager file manager readfile read file dbrexmlpath dbre xml path inputstream input stream inputstream input stream fileinputstream file input stream filedetails file details getfile file database database databasexmlutils database xml utils readdatabasestructurefrominputstream read database structure input stream inputstream input stream cachedatabase cache database database database exception printstacktrace print stack trace getdbrexmlpath dbre xml path projectoperations project operations isprojectavailable project projectoperations project operations getpathresolver path resolver getidentifier identifier path src resources dbre xml database refreshdatabase refresh database schema schema view set includetables include tables set excludetables exclude tables notnull schema schema required connection connection connection getconnection connection databaseintrospector database introspector introspector databaseintrospector database introspector connection schema view includetables include tables excludetables exclude tables database database introspector createdatabase create database cachedatabase cache database database database exception illegalstateexception illegal exception connectionprovider connection provider closeconnection close connection connection serializedatabase serialize database database database outputstream output stream outputstream output stream displayonly display notnull database database required notnull outputstream output stream output stream required databasexmlutils database xml utils writedatabasestructuretooutputstream write database structure output stream database outputstream output stream displayonly display filemanager file manager createorupdatetextfileifrequired create update text file required getdbrexmlpath dbre xml path outputstream output stream tostring cachedatabase cache database database database database lastschema schema database getschema schema cachedintrospections cached introspections lastschema schema database connection getconnection connection displayaddons display add ons sqlexception sql exception filemanager file manager exists projectoperations project operations getpathresolver path resolver getidentifier identifier path spring config root database properties map connectionproperties connection properties propfileoperations prop file operations getproperties properties path spring config root database properties connectionprovider connection provider getconnection connection connectionproperties connection properties displayaddons display add ons properties connectionproperties connection properties getconnectionpropertiesfromdatanucleusconfiguration connection properties data nucleus configuration connectionprovider connection provider getconnection connection connectionproperties connection properties displayaddons display add ons properties getconnectionpropertiesfromdatanucleusconfiguration connection properties data nucleus configuration persistencexmlpath persistence xml path projectoperations project operations getpathresolver path resolver getidentifier identifier path src resources meta inf persistence xml filemanager file manager exists persistencexmlpath persistence xml path illegalstateexception illegal exception failed find persistencexmlpath persistence xml path filedetails file details filedetails file details filemanager file manager readfile read file persistencexmlpath persistence xml path document document inputstream input stream fileinputstream file input stream filedetails file details getfile file documentbuilder document builder builder xmlutils xml utils getdocumentbuilder document builder builder seterrorhandler set error handler document builder parse exception illegalstateexception illegal exception list element propertyelements property elements xmlutils xml utils findelements find elements persistence persistence unit properties property document getdocumentelement document element notempty empty propertyelements property elements failed find property elements persistencexmlpath persistence xml path properties properties properties element propertyelement property element propertyelements property elements key propertyelement property element getattribute attribute propertyelement property element getattribute attribute datanucleus connectiondrivername connection driver equals key properties database driverclassname driver datanucleus connectionurl connection url equals key properties database url datanucleus connectionusername connection user equals key properties database username datanucleus connectionpassword connection password equals key properties database password properties size required properties ignore elements properties