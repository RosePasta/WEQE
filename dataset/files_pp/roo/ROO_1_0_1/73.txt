springframework roo addon web menu bytearrayoutputstream array output stream file fileinputstream file input stream filereader file reader ioexception exception inputstream input stream inputstreamreader input stream reader outputstreamwriter output stream writer util arrays util collections util util enumeration util list util properties util vector springframework roo model javasymbolname symbol springframework roo process manager filemanager file manager springframework roo process manager mutablefile mutable file springframework roo project path springframework roo project pathresolver path resolver springframework roo support lifecycle scopedevelopment scope development springframework roo support util springframework roo support util filecopyutils file copy utils springframework roo support util templateutils template utils springframework roo support util xmlutils xml utils dom document dom element dom nodelist node list generates jsp menu management menu items author stefan schmidt scopedevelopment scope development menuoperations menu operations filemanager file manager filemanager file manager pathresolver path resolver pathresolver path resolver menufile menu file menuoperations menu operations filemanager file manager filemanager file manager pathresolver path resolver pathresolver path resolver notnull filemanager file manager file manager required notnull pathresolver path resolver path resolver required filemanager file manager filemanager file manager pathresolver path resolver pathresolver path resolver menufile menu file pathresolver path resolver getidentifier identifier path src webapp web inf views menu jspx addition menu categories menu items category menu item identifier exists overwritten replaced addons determine category menu item identifiers clashes addons recommended category identifier naming convention addon intention category intention represents identifier diffentiate categories addon recommended menu item identifier naming convention addon intention menu item menucategoryid menu category identifier menu category required menucategorylabel menu category label category label required menuitemid menu item menu item identifier required menuitemlabel menu item label menu item label required link menu item link required addmenuitem add menu item menucategoryid menu category javasymbolname symbol menucategorylabel menu category label menuitemid menu item javasymbolname symbol menuitemlabel menu item label messagecode message code link hastext text menucategoryid menu category menu category label identifier required notnull menucategorylabel menu category label menu category label required hastext text menuitemid menu item menu item label identifier required notnull menuitemlabel menu item label menu item object required hastext text link link required hastext text messagecode message code message code required menuitemid menu item menuitemid menu item replaceall replace document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jspx getmessage message equals getmessage message getmessage message root element menu menu identifier allowing decorations menu element rootelement root element xmlutils xml utils findrequiredelement find required element roo menu element document getfirstchild child check existence menu category indentifier element categorywrapper category wrapper xmlutils xml utils findfirstelement find element menucategoryid menu category rootelement root element element categoryroot category root exists create categorywrapper category wrapper categorywrapper category wrapper document createelement create element categorywrapper category wrapper setattribute set attribute menucategoryid menu category element document createelement create element messageresourceid message resource menu category menucategoryid menu category tolowercase label getproperty property path src webapp web inf application properties messageresourceid message resource setproperty set property path src webapp web inf application properties messageresourceid message resource menucategorylabel menu category label getreadablesymbolname readable symbol element categorylabel category label document createelement create element spring message categorylabel category label setattribute set attribute code messageresourceid message resource appendchild append child categorylabel category label categorywrapper category wrapper appendchild append child categoryroot category root document createelement create element categorywrapper category wrapper appendchild append child categoryroot category root rootelement root element appendchild append child categorywrapper category wrapper categoryroot category root xmlutils xml utils findrequiredelement find required element categorywrapper category wrapper check existence menu item indentifier element menuitem menu item xmlutils xml utils findfirstelement find element menuitemid menu item categorywrapper category wrapper menuitemresourceid menu item resource label menuitemlabel menu item label getsymbolname symbol tolowercase exists create menuitem menu item menuitem menu item document createelement create element menuitem menu item setattribute set attribute menuitemid menu item element url document createelement create element spring url url setattribute set attribute menuitemid menu item url url setattribute set attribute link menuitem menu item appendchild append child url element createlink create link document createelement create element createlink create link setattribute set attribute href menuitemid menu item url element message document createelement create element spring message message setattribute set attribute code messagecode message code menuitemlabel menu item label getsymbolname symbol length getproperty property path src webapp web inf application properties menuitemresourceid menu item resource setproperty set property path src webapp web inf application properties menuitemresourceid menu item resource menuitemlabel menu item label getreadablesymbolname readable symbol element entitylabel entity label document createelement create element spring message entitylabel entity label setattribute set attribute code menuitemresourceid menu item resource entitylabel entity label setattribute set attribute label menuitemlabel menu item label getsymbolname symbol tolowercase createlink create link appendchild append child entitylabel entity label message setattribute set attribute arguments label menuitemlabel menu item label getsymbolname symbol tolowercase createlink create link appendchild append child message menuitem menu item appendchild append child createlink create link categoryroot category root appendchild append child menuitem menu item check plural entity changed impacts access spring message element check code element message xmlutils xml utils findfirstelementbyname find element spring message menuitem menu item message message getattribute attribute code equals menuitemresourceid menu item resource setproperty set property path src webapp web inf application properties menuitemresourceid menu item resource menuitemlabel menu item label getreadablesymbolname readable symbol message setattribute set attribute code menuitemresourceid menu item resource writetodiskifnecessary write disk document getchildnodes child nodes cleanupmenuitems clean menu items menucategoryid menu category menuitemidprefix menu item prefix list allowedmenuids allowed menu ids hastext text menucategoryid menu category menu category identifier required hastext text menuitemidprefix menu item prefix menu item prefix required finder notnull allowedmenuids allowed menu ids list allowed menu items required document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jspx find menu items category starts menuitemidprefix menu item prefix list element elements xmlutils xml utils findelements find elements menucategoryid menu category starts menuitemidprefix menu item prefix document getdocumentelement document element elements size element element elements allowedmenuids allowed menu ids element getattribute attribute element getparentnode parent node removechild remove child element writetodiskifnecessary write disk document getchildnodes child nodes cleanupmenuitem clean menu item menucategoryid menu category menuitemid menu item hastext text menucategoryid menu category menu category identifier required hastext text menuitemid menu item menu item required document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jsp find menu item category exists element element xmlutils xml utils findfirstelement find element menucategoryid menu category menuitemid menu item document getdocumentelement document element element element getparentnode parent node removechild remove child element writetodiskifnecessary write disk document getchildnodes child nodes inputstream input stream getmenufile menu file filemanager file manager exists menufile menu file filecopyutils file copy utils copy templateutils template utils gettemplate template getclass menu jspx filemanager file manager createfile create file pathresolver path resolver getidentifier identifier path src webapp web inf views menu jspx getoutputstream output stream exception illegalstateexception illegal exception encountered error copying resources mvc jsp addon menu file exists logic earlier copied template inputstream input stream existingmenu existing menu existingmenu existing menu fileinputstream file input stream file menufile menu file ioexception exception ioe illegalstateexception illegal exception ioe existingmenu existing menu disk changed updated created writetodiskifnecessary write disk nodelist node list towrite write build representation jsp bytearrayoutputstream array output stream bytearrayoutputstream array output stream bytearrayoutputstream array output stream xmlutils xml utils writemalformedxml write malformed xml xmlutils xml utils createindentingtransformer create indenting transformer bytearrayoutputstream array output stream towrite write jspcontent jsp content bytearrayoutputstream array output stream tostring mutablefile mutable file write contents jspcontent jsp content file mutablefile mutable file mutablefile mutable file filemanager file manager exists menufile menu file verify file changed file file menufile menu file existing existing filecopyutils file copy utils copytostring copy filereader file reader ioexception exception ignoreandjustoverwriteit ignore overwrite jspcontent jsp content equals existing mutablefile mutable file filemanager file manager updatefile update file menufile menu file mutablefile mutable file filemanager file manager createfile create file menufile menu file notnull mutablefile mutable file create menu file menufile menu file mutablefile mutable file write file file existing file contents filecopyutils file copy utils copy jspcontent jsp content outputstreamwriter output stream writer mutablefile mutable file getoutputstream output stream wrote file ioexception exception ioe illegalstateexception illegal exception output mutablefile mutable file getcanonicalpath canonical path ioe file existed contained content property throwing exception file exist propertyfilepath property file path location property file required propertyfilename property filename property file path required key property key update required property set property key required setproperty set property path propertyfilepath property file path propertyfilename property filename key notnull propertyfilepath property file path property file path required hastext text propertyfilename property filename property filename required hastext text key key required hastext text required filepath file path pathresolver path resolver getidentifier identifier propertyfilepath property file path propertyfilename property filename mutablefile mutable file mutablefile mutable file properties props properties override order alphabetically override suppresswarnings suppress warnings unchecked enumeration object keyset key set toarray array arrays sort enumeration hasmoreelements elements length object nextelement element filemanager file manager exists filepath file path mutablefile mutable file filemanager file manager updatefile update file filepath file path props load mutablefile mutable file getinputstream input stream illegalstateexception illegal exception properties file ioexception exception ioe illegalstateexception illegal exception ioe props setproperty set property key props store mutablefile mutable file getoutputstream output stream updated test ioexception exception ioe illegalstateexception illegal exception ioe retrieves property returning property file exist propertyfilepath property file path location property file required propertyfilename property filename property file path required key property key retrieve required property property file requested property exist getproperty property path propertyfilepath property file path propertyfilename property filename key notnull propertyfilepath property file path property file path required hastext text propertyfilename property filename property filename required hastext text key key required filepath file path pathresolver path resolver getidentifier identifier propertyfilepath property file path propertyfilename property filename mutablefile mutable file mutablefile mutable file properties props properties filemanager file manager exists filepath file path mutablefile mutable file filemanager file manager updatefile update file filepath file path props load mutablefile mutable file getinputstream input stream ioexception exception ioe illegalstateexception illegal exception ioe props getproperty property key