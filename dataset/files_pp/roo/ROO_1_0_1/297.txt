springframework roo shell internal bufferedreader buffered reader file fileinputstream file input stream filenotfoundexception file exception ioexception exception inputstream input stream inputstreamreader input stream reader net url text dateformat format util util properties util sortedset sorted set util treeset tree set util jar manifest util logging logger springframework roo shell clicommand cli command springframework roo shell clioption cli option springframework roo shell executionstrategy execution strategy springframework roo shell exitshellrequest exit shell request springframework roo shell parseresult parse result springframework roo shell shell springframework roo shell event abstractshellstatuspublisher shell status publisher springframework roo shell event shellstatus shell status springframework roo support logging handlerutils handler utils springframework roo support util base link shell implementation author ben alex abstractshell shell abstractshellstatuspublisher shell status publisher shell logger logger handlerutils handler utils getlogger logger getclass inblockcomment block comment exitshellrequest exit shell request exitshellrequest exit shell request executionstrategy execution strategy executionstrategy execution strategy shellprompt shell prompt roo completionkeys completion tab abstractshell shell executionstrategy execution strategy executionstrategy execution strategy notnull executionstrategy execution strategy execution strategy required executionstrategy execution strategy executionstrategy execution strategy clicommand cli command script parses resource file executes commands script clioption cli option key file file locate execute mandatory file resource clioption cli option key linenumbers numbers mandatory specifieddefaultvalue unspecifieddefaultvalue unspecified display numbers executing script linenumbers numbers notnull resource resource parser required started gettime time inputstream input stream inputstream input stream inputstream input stream fileinputstream file input stream resource filenotfoundexception file exception trytheclassloaderinstead loader inputstream input stream find resource classloader inputstream input stream getclass getresourceasstream resource stream resource getname notnull inputstream input stream resource resource disk classpath bufferedreader buffered reader bufferedreader buffered reader inputstreamreader input stream reader inputstream input stream readline read linenumbers numbers logger fine logger fine equals trim success executecommand execute command success abort script processing wrong illegalstateexception illegal exception script execution aborted close ioexception exception illegalstateexception illegal exception logger fine milliseconds required gettime time started executecommand execute command command attempted setshellstatus set shell status shellstatus shell status parsing support simple block comments single pair inblockcomment block comment blockcommentbegin block comment lhs substring lastindexof lhs substring lastindexof blockcommentfinish block comment finish lhs inblockcomment block comment blockcommentfinish block comment finish substring lastindexof support inline comments start valid command options http helloworld fail roo inblockcomment block comment trim startswith starts substring indexof convert tab characters whitespace roo replace equals trim setshellstatus set shell status shellstatus shell status execution complete parseresult parse result parseresult parse result getparser parser parse parseresult parse result setshellstatus set shell status shellstatus shell status executing object result executionstrategy execution strategy execute parseresult parse result setshellstatus set shell status shellstatus shell status execution result processing result result exitshellrequest exit shell request exitshellrequest exit shell request exitshellrequest exit shell request result result iterable object iterable result logger info tostring logger info result tostring runtimeexception runtime exception setshellstatus set shell status shellstatus shell status execution result processing rely execution strategy log throwable root exceptionutils exception utils extractrootcause extract root logger log level fine root getmessage message logcommandifrequired log command required exception ignoreit ignore setshellstatus set shell status shellstatus shell status execution complete logcommandifrequired log command required subclass log execution formed command invoked command completed command returned returned exception note attempted commands formed missing mandatory argument presented command execution attempted cases invoked attempt execute command implementations specially handling script commands indicating command successful implementations behave consistently link abstractshell shell subclasses encouraged simply override link logcommandtooutput log command output override fine tune output logic parsed comments removed successful command successful logcommandifrequired log command required successful startswith starts script logcommandtooutput log command output successful failed logcommandtooutput log command output successful failed subclass write logged command form output frees subclasses needing implement logic link logcommandifrequired log command required implementations invoke link getexitshellrequest exit shell request monitor attempts exit shell release resources output log files processedline processed appended type output excluding character logcommandtooutput log command output processedline processed logger severe processedline processed base implementation link shell setpromptpath set prompt path designed simple shell implementations advanced implementations support ansi codes override set link shellprompt shell prompt variable path set empty formatted special ansi codes setpromptpath set prompt path path equals path path shellprompt shell prompt roo shellprompt shell prompt path roo exitshellrequest exit shell request getexitshellrequest exit shell request exitshellrequest exit shell request clicommand cli command exit quit exits shell exitshellrequest exit shell request requestexit request exit exitshellrequest exit shell request normal exit clicommand cli command inline comment markers start inlinecomment inline comment clicommand cli command start block comment blockcommentbegin block comment istrue inblockcomment block comment open block comment active inblockcomment block comment clicommand cli command block comment blockcommentfinish block comment finish istrue inblockcomment block comment close block comment opened inblockcomment block comment clicommand cli command system properties shell shell properties props properties properties system getproperties properties sortedset sorted set data treeset tree set object property properties keyset key set object properties property data add property stringbuilder builder stringbuilder builder data append append system getproperty property separator tostring clicommand cli command displays local time dateformat format getdatetimeinstance time instance dateformat format full dateformat format full format clicommand cli command version displays shell version version clioption cli option key special version flags extra stringbuilder builder stringbuilder builder jaime equals extra append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append loading roo append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append roo append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append append versioninfo version info append system getproperty property separator tostring append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append system getproperty property separator append append append versioninfo version info append system getproperty property separator append system getproperty property separator tostring versioninfo version info determine svn version svnrev svn rev classcontainer container abstractshell shell getprotectiondomain protection domain getcodesource code source getlocation location tostring classcontainer container endswith ends jar attempt svn version manifest url manifesturl manifest url url jar classcontainer container meta inf manifest manifest manifest manifest manifesturl manifest url openstream open stream svnrev svn rev manifest getmainattributes attributes getvalue implementation build development mode svnversion external tool classcontainer container startswith starts file location classcontainer container substring file file location getparentfile parent file getparentfile parent file getparentfile parent file exists process runtime getruntime runtime exec svnversion getcanonicalpath canonical path bufferedreader buffered reader input bufferedreader buffered reader inputstreamreader input stream reader getinputstream input stream input readline read svnrev svn rev input close exception ignoreandmoveon ignore move formalbuild formal build abstractshell shell getpackage getimplementationversion implementation version build version details stringbuilder builder stringbuilder builder formalbuild formal build append engineering build append formalbuild formal build svnrev svn rev append rev unknown append rev append svnrev svn rev append tostring getshellprompt shell prompt shellprompt shell prompt obtains directory current shell instance note calls link gethomeasstring subclasses provide directory location environment specific strategies path link gethomeasstring exists refers directory directory returned path link gethomeasstring exists refers file exception thrown path link gethomeasstring exist created directory fails exception thrown directory current shell instance guaranteed exist directory file gethome roohome roo gethomeasstring file file roohome roo istrue exists exists isdirectory directory path getabsolutepath absolute path directory exist exists mkdirs istrue exists isdirectory directory path getabsolutepath absolute path directory roo system property correctly gethomeasstring