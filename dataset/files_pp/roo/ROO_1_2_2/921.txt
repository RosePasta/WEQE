springframework roo project file ioexception exception util arraylist array list util collection util collections util comparator util hashmap hash map util hashset hash set util iterator util linkedhashmap linked hash map util list util map util set commons lang lang stringutils utils commons lang lang validate felix scr annotations component felix scr annotations reference felix scr annotations service osgi service component componentcontext component context springframework roo file monitor filemonitorservice file monitor service springframework roo metadata metadatadependencyregistry metadata dependency registry springframework roo metadata metadataservice metadata service springframework roo process manager filemanager file manager springframework roo project maven pom springframework roo project maven pomfactory pom factory springframework roo shell shell springframework roo support osgi osgiutils utils springframework roo support util fileutils file utils springframework roo support util xmlutils xml utils dom document dom element component service pommanagementserviceimpl pom management service impl pommanagementservice pom management service pomcomparator pom comparator comparator map pom pommap pom map constructor pommap pom map pomcomparator pom comparator map pom pommap pom map pommap pom map pommap pom map compare pommap pom map getroot root separator pommap pom map getroot root separator startswith starts startswith starts separator file separator pom pom xml relative path separator pom reference filemanager file manager filemanager file manager reference filemonitorservice file monitor service filemonitorservice file monitor service reference metadatadependencyregistry metadata dependency registry metadatadependencyregistry metadata dependency registry reference metadataservice metadata service metadataservice metadata service reference pomfactory pom factory pomfactory pom factory reference shell shell focusedmodulepath focused module path map pom pommap pom map linkedhashmap linked hash map pom projectrootdirectory project root directory set tobeparsed parsed hashset hash set activate componentcontext component context context file projectdirectory project directory file stringutils utils defaultifempty empty osgiutils utils getrooworkingdirectory roo working directory context fileutils file utils current directory projectrootdirectory project root directory fileutils file utils getcanonicalpath canonical path projectdirectory project directory test cases set service pom pom add required addpom add pom pom pom pommap pom map pom getpath path pom findunparsedpoms find unparsed poms change filemonitorservice file monitor service getdirtyfiles dirty files getclass getname change endswith ends pom tobeparsed parsed add change pom getfocusedmodule focused module updatepomcache update pom cache focusedmodulepath focused module path getrootpom root pom focusedmodulepath focused module path getrootpom root pom getpath path getpomfrompath pom path focusedmodulepath focused module path getfocusedmodulename focused module getfocusedmodule focused module getfocusedmodule focused module getmodulename module pom getmoduleforfileidentifier module file identifier fileidentifier file identifier updatepomcache update pom cache startingpoint starting point fileutils file utils getfirstdirectory directory fileidentifier file identifier pompath pom path fileutils file utils ensuretrailingseparator ensure trailing separator startingpoint starting point pom file pom file pompath pom path pom exists startingpoint starting point equals separator startingpoint starting point stringutils utils removeend remove startingpoint starting point separator startingpoint starting point startingpoint starting point substring startingpoint starting point lastindexof separator startingpoint starting point stringutils utils removeend remove startingpoint starting point separator pompath pom path fileutils file utils ensuretrailingseparator ensure trailing separator startingpoint starting point pom pom file pompath pom path getpomfrompath pom path pompath pom path getmodulename module pomdirectory pom directory normalisedrootpath normalised root path fileutils file utils ensuretrailingseparator ensure trailing separator projectrootdirectory project root directory normalisedpomdirectory normalised pom directory fileutils file utils ensuretrailingseparator ensure trailing separator pomdirectory pom directory modulename module stringutils utils removestart remove start normalisedpomdirectory normalised pom directory normalisedrootpath normalised root path stringutils utils stripend strip modulename module separator collection getmodulenames module names set modulenames module names hashset hash set pom module pommap pom map values modulenames module names add module getmodulename module modulenames module names pom getpomfrommodulename pom module modulename module pom pom getpoms poms pom getmodulename module equals modulename module pom pom getpomfrompath pom path pompath pom path updatepomcache update pom cache pommap pom map pompath pom path collection pom getpoms poms updatepomcache update pom cache arraylist array list pom pommap pom map values pom getrootpom root pom updatepomcache update pom cache pommap pom map projectrootdirectory project root directory separator pom set pom parseunparsedpoms parse unparsed poms map pommodulemap pom module map hashmap hash map set pom newpoms poms hashset hash set pom iterator iter tobeparsed parsed iterator iter hasnext pathtochangedpom path changed pom iter file pathtochangedpom path changed pom exists pomcontents pom contents pomcontents pom contents commons fileutils file utils readfiletostring read file file pathtochangedpom path changed pom ioexception exception stringutils utils isnotblank blank pomcontents pom contents element rootelement root element xmlutils xml utils stringtoelement element pomcontents pom contents resolvepoms resolve poms rootelement root element pathtochangedpom path changed pom pommodulemap pom module map modulename module getmodulename module fileutils file utils getfirstdirectory directory pathtochangedpom path changed pom pom pom pomfactory pom factory getinstance instance rootelement root element pathtochangedpom path changed pom modulename module validate notnull pom pom module modulename module path pathtochangedpom path changed pom pommap pom map pathtochangedpom path changed pom pom newpoms poms add pom iter remove newpoms poms resolvechildmodulepoms resolve child module poms element pomroot pom root pompath pom path map pomset pom set element module xmlutils xml utils findelements find elements project modules module pomroot pom root modulename module module gettextcontent text content stringutils utils isnotblank blank modulename module modulepath module path resolverelativepath resolve relative path pompath pom path modulename module alreadydiscovered discovered pomset pom set containskey key modulepath module path pomset pom set modulepath module path modulename module alreadydiscovered discovered document pomdocument pom document xmlutils xml utils readxml read xml filemanager file manager getinputstream input stream modulepath module path element root pomdocument pom document getdocumentelement document element resolvepoms resolve poms root modulepath module path pomset pom set resolveparentpom resolve parent pom pompath pom path map pomset pom set element parentelement parent element relativepath relative path xmlutils xml utils gettextcontent text content relativepath relative path parentelement parent element relative path parentpompath parent pom path resolverelativepath resolve relative path pompath pom path relativepath relative path alreadydiscovered discovered pomset pom set containskey key parentpompath parent pom path alreadydiscovered discovered pomset pom set parentpompath parent pom path pomset pom set parentpompath parent pom path file parentpompath parent pom path isfile file document pomdocument pom document xmlutils xml utils readxml read xml filemanager file manager getinputstream input stream parentpompath parent pom path element root pomdocument pom document getdocumentelement document element resolvepoms resolve poms root parentpompath parent pom path pomset pom set resolvepoms resolve poms element pomroot pom root pompath pom path map pomset pom set pomset pom set pompath pom path pomset pom set pompath pom path ensures key exists element parentelement parent element xmlutils xml utils findfirstelement find element project parent pomroot pom root parentelement parent element resolveparentpom resolve parent pom pompath pom path pomset pom set parentelement parent element resolvechildmodulepoms resolve child module poms pomroot pom root pompath pom path pomset pom set resolverelativepath resolve relative path relativeto relative relativepath relative path relativeto relative endswith ends separator relativeto relative relativeto relative substring relativeto relative length file relativeto relative isfile file relativeto relative relativeto relative substring relativeto relative lastindexof separator relativepathsegments relative path segments relativepath relative path split fileutils file utils getfileseparatorasregex file separator regex backcount count relativepathsegment relative path segment relativepathsegments relative path segments relativepathsegment relative path segment equals backcount count stringbuilder builder stringbuilder builder backcount count relativepathsegments relative path segments length append relativepathsegments relative path segments append separator backcount count relativeto relative relativeto relative substring relativeto relative lastindexof separator backcount count path relativeto relative separator tostring file path isdirectory directory path path pom path endswith ends separator path path substring path length path setfocusedmodule set focused module pom focusedmodule focused module validate notnull focusedmodule focused module module required focusedmodule focused module getpath path equals focusedmodulepath focused module path focusedmodulepath focused module path focusedmodule focused module getpath path shell setpromptpath set prompt path focusedmodule focused module getmodulename module sortpommap sort pom map list sortedpompaths sorted pom paths arraylist array list pommap pom map keyset key set collections sort sortedpompaths sorted pom paths pomcomparator pom comparator pommap pom map map pom sortedpommap sorted pom map linkedhashmap linked hash map pom pompath pom path sortedpompaths sorted pom paths sortedpommap sorted pom map pompath pom path pommap pom map pompath pom path pommap pom map clear pommap pom map putall sortedpommap sorted pom map updatepomcache update pom cache findunparsedpoms find unparsed poms collection pom newpoms poms parseunparsedpoms parse unparsed poms newpoms poms isempty empty sortpommap sort pom map updateprojectmetadataformodules update project metadata modules newpoms poms updateprojectmetadataformodules update project metadata modules iterable pom newpoms poms pom pom newpoms poms projectmetadataid project metadata projectmetadata project metadata getprojectidentifier project identifier pom getmodulename module metadataservice metadata service evictandget evict projectmetadataid project metadata metadatadependencyregistry metadata dependency registry notifydownstream notify downstream projectmetadataid project metadata