springframework roo addon dbre jdbc sql connection sql driver sql sqlexception sql exception util map util properties javax naming initialcontext initial context javax sql datasource data source commons lang lang validate felix scr annotations component felix scr annotations reference felix scr annotations service springframework roo addon jdbc jdbcdrivermanager jdbc driver manager springframework roo support util collectionutils collection utils implementation link connectionprovider connection provider author alan stewart component service connectionproviderimpl connection provider impl connectionprovider connection provider password password user user reference jdbcdrivermanager jdbc driver manager jdbcdrivermanager jdbc driver manager closeconnection close connection connection connection connection connection close sqlexception sql exception connection getconnection connection map map displayaddons display add ons runtimeexception runtime exception getconnection connection getprops props map displayaddons display add ons connection getconnection connection properties props displayaddons display add ons runtimeexception runtime exception validate notempty empty props connection properties empty properties user password required connection props getproperty property user props user props getproperty property database username props getproperty property password props password props getproperty property database password driverclassname driver props getproperty property database driverclassname driver driver driver jdbcdrivermanager jdbc driver manager loaddriver load driver driverclassname driver displayaddons display add ons validate notnull driver jdbc driver driverclassname driver driver connect props getproperty property database url props sqlexception sql exception illegalstateexception illegal exception unable connection driver getmessage message connection getconnectionviajndidatasource connection jndi data source jndidatasource jndi data source map map displayaddons display add ons runtimeexception runtime exception initialcontext initial context context initialcontext initial context getprops props map datasource data source datasource data source datasource data source context lookup jndidatasource jndi data source datasource data source getconnection connection exception illegalstateexception illegal exception unable connection driver getmessage message properties getprops props map map validate istrue collectionutils collection utils isempty empty map connection properties map empty properties props properties props putall map props