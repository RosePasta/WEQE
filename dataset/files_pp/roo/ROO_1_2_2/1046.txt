springframework roo support util security messagedigest message digest security nosuchalgorithmexception algorithm exception util collections util map entry util sortedmap sorted map util treemap tree map commons codec binary base base commons lang lang validate dom document dom element dom namednodemap named node map dom node dom nodelist node list utilities tripping xml documents author stefan schmidt xmlroundtriputils xml trip utils messagedigest message digest digest digest messagedigest message digest getinstance instance sha nosuchalgorithmexception algorithm exception illegalstateexception illegal exception create hash key identifier addorupdateelements add update elements element original element proposed originaldocumentchanged original document changed nodelist node list proposedchildren proposed children proposed getchildnodes child nodes check proposed elements compare originals find add replace elements proposedchildren proposed children getlength length node node proposedchildren proposed children item node node getnodetype node type node element node element proposedelement proposed element element node proposedid proposed proposedelement proposed element getattribute attribute proposed elements considered proposedid proposed length element originalelement original element xmlutils xml utils findfirstelement find element proposedid proposed original insert proposed element original document element matching originalelement original element element placeholder place holder domutils dom utils findfirstelementbyname find element util placeholder original placeholder place holder insert place holder find placeholder place holder getparentnode parent node insertbefore insert original getownerdocument owner document importnode node proposedelement proposed element placeholder place holder find place insert element find proposed element element parent original document proposed getattribute attribute length element originalparent original parent xmlutils xml utils findfirstelement find element proposed getattribute attribute original parent add child originalparent original parent originalparent original parent appendchild append child original getownerdocument owner document importnode node proposedelement proposed element parent add child root element resort original appendchild append child original getownerdocument owner document importnode node proposedelement proposed element parent add child root element resort original appendchild append child original getownerdocument owner document importnode node proposedelement proposed element originaldocumentchanged original document changed element original document matching originalelementhashcode original element hash code originalelement original element getattribute attribute actif hash code exists originalelementhashcode original element hash code length hash codes match user element user requests hash code regenerated equals originalelementhashcode original element hash code originalelementhashcode original element hash code equals calculateuniquekeyfor calculate unique key originalelement original element check elements equal contents equalelements equal elements originalelement original element proposedelement proposed element replace original proposed element originalelement original element getparentnode parent node replacechild replace child original getownerdocument owner document importnode node proposedelement proposed element originalelement original element originaldocumentchanged original document changed replace user sets indication roo management element equals originalelementhashcode original element hash code originalelement original element setattribute set attribute calculateuniquekeyfor calculate unique key proposedelement proposed element originaldocumentchanged original document changed hash codes don match mark element user managed mark element user managed hash codes don match originalelementhashcode original element hash code equals user managed originalelement original element setattribute set attribute user managed originaldocumentchanged original document changed walk document tree recursively originaldocumentchanged original document changed addorupdateelements add update elements original proposedelement proposed element originaldocumentchanged original document changed originaldocumentchanged original document changed create base encoded sha sha hash key xml element key based element attribute names values child elements attributes named concluded hash key element element create base encoded hash key unique key calculateuniquekeyfor calculate unique key element element stringbuilder builder stringbuilder builder append element gettagname tag namednodemap named node map attributes element getattributes attributes sortedmap sorted map attrkvstore attr store collections synchronizedsortedmap sorted map treemap tree map attributes getlength length node attr attributes item equals attr getnodename node attr getnodename node startswith starts attrkvstore attr store attr getnodename node attr getnodevalue node entry entry attrkvstore attr store entryset entry set append entry getkey key append entry getvalue base base encodebase string encode base sha sha tostring getbytes bytes compare namespace declarations original proposed document namespaces original missing compared proposed add original original document read file system proposed document determined jspviewmanager jsp view manager document adjusted checknamespaces check namespaces document original document proposed originaldocumentchanged original document changed namednodemap named node map nsnodes nodes proposed getdocumentelement document element getattributes attributes nsnodes nodes getlength length original getdocumentelement document element getattribute attribute nsnodes nodes item getnodename node length original getdocumentelement document element setattribute set attribute nsnodes nodes item getnodename node nsnodes nodes item getnodevalue node originaldocumentchanged original document changed originaldocumentchanged original document changed compare original document proposed document adjustments original document adjustments elements attributes proposed order attributes elements original document result adjustment original document read file system proposed document determined jspviewmanager jsp view manager document adjusted comparedocuments compare documents document original document proposed originaldocumentadjusted original document adjusted checknamespaces check namespaces original proposed originaldocumentadjusted original document adjusted addorupdateelements add update elements original getdocumentelement document element proposed getdocumentelement document element originaldocumentadjusted original document adjusted originaldocumentadjusted original document adjusted removeelements remove elements original getdocumentelement document element proposed getdocumentelement document element originaldocumentadjusted original document adjusted originaldocumentadjusted original document adjusted equalelements equal elements element element gettagname tag equals gettagname tag namednodemap named node map attributes getattributes attributes customattributecounter custom attribute counter attributes getlength length node node attributes item node node getnodename node startswith starts node getnodename node equals getattribute attribute node getnodename node length getattribute attribute node getnodename node equals node getnodevalue node customattributecounter custom attribute counter getattributes attributes getlength length customattributecounter custom attribute counter getattributes attributes getlength length removeelements remove elements element original element proposed originaldocumentchanged original document changed nodelist node list originalchildren original children original getchildnodes child nodes check original elements compare proposed find remove elements originalchildren original children getlength length node node originalchildren original children item node node getnodetype node type node element node element originalelement original element element node originalid original originalelement original element getattribute attribute originalid original length proposed elements considered element proposedelement proposed element xmlutils xml utils findfirstelement find element originalid original proposed proposedelement proposed element originalelement original element getattribute attribute equals calculateuniquekeyfor calculate unique key originalelement original element originalelement original element getattribute attribute equals remove original element proposed document element matching originalelement original element getparentnode parent node removechild remove child originalelement original element originaldocumentchanged original document changed walk document tree recursively originaldocumentchanged original document changed removeelements remove elements originalelement original element proposed originaldocumentchanged original document changed originaldocumentchanged original document changed creates sha hash data array data hash hash input data sha sha data validate notnull digest create hash key identifier digest digest data constructor prevent instantiation xmlroundtriputils xml trip utils