springframework roo addon cloud foundry mockito mockito mock mockito mockito verify mockito mockito verifynomoreinteractions verify interactions mockito mockito util collections junit junit test mockito mock mockito mockitoannotations mockito annotations unit test link cloudfoundrysessionimpl cloud foundry session impl author andrew swan cloudfoundrysessionimpltest cloud foundry session impl test custom cloud url http cloud email bob password letmein mock appcloudclientfactory app cloud client factory mockappcloudclientfactory mock app cloud client factory mock cloudpreferences cloud preferences mockpreferences mock preferences fixture cloudfoundrysessionimpl cloud foundry session impl session setup set exception mockitoannotations mockito annotations initmocks init mocks session cloudfoundrysessionimpl cloud foundry session impl session appcloudclientfactory app cloud client factory mockappcloudclientfactory mock app cloud client factory session preferences mockpreferences mock preferences test testloginwithblankemailandnostoredemail test login blank email stored email set uaaawareappcloudclient uaa aware app cloud client mockclient mock client mock uaaawareappcloudclient uaa aware app cloud client mockpreferences mock preferences getstoredemails stored emails custom cloud url thenreturn collections emptylist empty list invoke session login password custom cloud url check verifynomoreinteractions verify interactions mockclient mock client test testloginwithblankemailandstoredemail test login blank email stored email set mockpreferences mock preferences getstoredemails stored emails custom cloud url thenreturn collections singletonlist singleton list email cloudcredentials cloud credentials credentials cloudcredentials cloud credentials email password custom cloud url uaaawareappcloudclient uaa aware app cloud client mockclient mock client mock uaaawareappcloudclient uaa aware app cloud client mockappcloudclientfactory mock app cloud client factory getuaaawareinstance uaa aware instance credentials thenreturn mockclient mock client invoke session login password custom cloud url check verify mockclient mock client loginifneeded login needed verifynomoreinteractions verify interactions mockclient mock client test testloginwithblankpasswordandnostoredpassword test login blank password stored password set uaaawareappcloudclient uaa aware app cloud client mockclient mock client mock uaaawareappcloudclient uaa aware app cloud client mockpreferences mock preferences getstoredpassword stored password custom cloud url email thenreturn invoke session login email custom cloud url check verifynomoreinteractions verify interactions mockclient mock client test testloginwithblankpasswordandstoredpassword test login blank password stored password set mockpreferences mock preferences getstoredpassword stored password custom cloud url email thenreturn password cloudcredentials cloud credentials credentials cloudcredentials cloud credentials email password custom cloud url uaaawareappcloudclient uaa aware app cloud client mockclient mock client mock uaaawareappcloudclient uaa aware app cloud client mockappcloudclientfactory mock app cloud client factory getuaaawareinstance uaa aware instance credentials thenreturn mockclient mock client invoke session login email custom cloud url check verify mockclient mock client loginifneeded login needed verifynomoreinteractions verify interactions mockclient mock client test testloginwithnonblankemailnonblankpasswordandcustomurl test login blank email blank password custom url set cloudcredentials cloud credentials credentials cloudcredentials cloud credentials email password custom cloud url uaaawareappcloudclient uaa aware app cloud client mockclient mock client mock uaaawareappcloudclient uaa aware app cloud client mockappcloudclientfactory mock app cloud client factory getuaaawareinstance uaa aware instance credentials thenreturn mockclient mock client invoke session login email password custom cloud url check verify mockclient mock client loginifneeded login needed verify mockpreferences mock preferences storecredentials store credentials credentials verifynomoreinteractions verify interactions mockclient mock client mockpreferences mock preferences