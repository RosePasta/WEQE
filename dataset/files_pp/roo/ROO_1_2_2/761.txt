springframework roo classpath javaparser junit assertnull junit assertsame mockito matchers mockito matchers powermock api mockito powermockito power mockito mock powermock api mockito powermockito power mockito mockstatic mock powermock api mockito powermockito power mockito japa parser javaparser parser japa parser ast compilationunit compilation unit japa parser ast body typedeclaration type declaration junit junit test junit runner runwith mockito mock mockito mockitoannotations mockito annotations powermock core classloader annotations preparefortest prepare test powermock modules junit junit powermockrunner power mock runner springframework roo classpath typelocationservice type location service springframework roo classpath details classorinterfacetypedetails type details springframework roo classpath javaparser details javaparserclassorinterfacetypedetailsbuilder parser type details builder springframework roo metadata metadataservice metadata service springframework roo model javatype type unit test link javaparsertypeparsingservice parser type parsing service author andrew swan runwith powermockrunner power mock runner preparefortest prepare test javaparserclassorinterfacetypedetailsbuilder parser type details builder javaparser parser javaparserutils parser utils javaparsertypeparsingservicetest parser type parsing service test declared mid mid foo bar empty file source file myclass targetclass target otherclass mock metadataservice metadata service mockmetadataservice mock metadata service mock typelocationservice type location service mocktypelocationservice mock type location service fixture javaparsertypeparsingservice parser type parsing service typeparsingservice type parsing service setup set exception mockitoannotations mockito annotations initmocks init mocks typeparsingservice type parsing service javaparsertypeparsingservice parser type parsing service typeparsingservice type parsing service metadataservice metadata service mockmetadataservice mock metadata service typeparsingservice type parsing service typelocationservice type location service mocktypelocationservice mock type location service test testgettypefromstringwhenfilecontainsnosuchtype test type file type set javatype type mocktargettype mock target type mock javatype type mocktargettype mock target type getsimpletypename simple type thenreturn nosuchtype type invoke classorinterfacetypedetails type details locatedtype located type typeparsingservice type parsing service gettypefromstring type source file declared mid mocktargettype mock target type check assertnull locatedtype located type test testgettypefromstringwhenfilecontainsnotypes test type file types set javatype type mocktargettype mock target type mock javatype type invoke classorinterfacetypedetails type details locatedtype located type typeparsingservice type parsing service gettypefromstring type empty file declared mid mocktargettype mock target type check assertnull locatedtype located type test testgettypefromstringwhenfilecontainsthattype test type file type exception set javatype type mocktargettype mock target type mock javatype type typedeclaration type declaration mocktypedeclaration mock type declaration mock typedeclaration type declaration classorinterfacetypedetails type details mockclassorinterfacetypedetails mock type details mock classorinterfacetypedetails type details javaparserclassorinterfacetypedetailsbuilder parser type details builder mockbuilder mock builder mock javaparserclassorinterfacetypedetailsbuilder parser type details builder mockbuilder mock builder build thenreturn mockclassorinterfacetypedetails mock type details mockstatic mock javaparserutils parser utils javaparserutils parser utils locatetypedeclaration locate type declaration compilationunit compilation unit mocktargettype mock target type thenreturn mocktypedeclaration mock type declaration mockstatic mock javaparserclassorinterfacetypedetailsbuilder parser type details builder javaparserclassorinterfacetypedetailsbuilder parser type details builder getinstance instance compilationunit compilation unit compilationunitservices compilation unit services mocktypedeclaration mock type declaration declared mid mocktargettype mock target type mockmetadataservice mock metadata service mocktypelocationservice mock type location service thenreturn mockbuilder mock builder invoke classorinterfacetypedetails type details locatedtype located type typeparsingservice type parsing service gettypefromstring type source file declared mid mocktargettype mock target type check assertsame mockclassorinterfacetypedetails mock type details locatedtype located type