copyright original author authors licensed license version license file compliance license copy license http licenses license required applicable law agreed writing software distributed license distributed basis warranties conditions kind express implied license specific language governing permissions limitations license springframework roo support util beans introspector lang reflect array lang reflect constructor lang reflect lang reflect modifier lang reflect proxy util arraylist array list util arrays util collection util collections util hashmap hash map util hashset hash set util iterator util linkedhashset linked hash set util list util map util set miscellaneous utility methods internal framework jakarta jakarta commons lang comprehensive suite utilities author keith donald author rob harrop author juergen hoeller typeutils type utils reflectionutils reflection utils classutils utils suffix array names array suffix prefix internal array names internal array prefix separator character separator separator character separator cglib separator character cglib separator file suffix file suffix map primitive wrapper type key primitive type integer map primitivewrappertypemap primitive wrapper type map hashmap hash map map primitive type key primitive type map primitivetypenamemap primitive type map hashmap hash map primitivewrappertypemap primitive wrapper type map primitivewrappertypemap primitive wrapper type map primitivewrappertypemap primitive wrapper type map character primitivewrappertypemap primitive wrapper type map primitivewrappertypemap primitive wrapper type map primitivewrappertypemap primitive wrapper type map integer primitivewrappertypemap primitive wrapper type map primitivewrappertypemap primitive wrapper type map set primitivetypes primitive types hashset hash set primitivetypes primitive types addall add primitivewrappertypemap primitive wrapper type map values primitivetypes primitive types addall add arrays aslist list primitivetype primitive type primitivetypes primitive types primitivetypenamemap primitive type map primitivetype primitive type getname primitivetype primitive type classloader loader typically thread context classloader loader classloader loader loaded classutils utils fallback call intend thread context classloader loader scenario absolutely classloader loader reference path resource loading code forname code accepts code code classloader loader reference classloader loader code code lang thread getcontextclassloader context loader classloader loader getdefaultclassloader loader classloader loader thread currentthread current thread getcontextclassloader context loader throwable access thread context classloader loader falling system loader thread context loader loader classutils utils getclassloader loader override thread context classloader loader environment environment bean classloader loader bean classloader loader equivalent thread context classloader loader classloadertouse loader actual classloader loader thread context original thread context classloader loader code code overridden classloader loader overridethreadcontextclassloader override thread context loader classloader loader classloadertouse loader thread currentthread current thread thread currentthread current thread classloader loader threadcontextclassloader thread context loader currentthread current thread getcontextclassloader context loader classloadertouse loader classloadertouse loader equals threadcontextclassloader thread context loader currentthread current thread setcontextclassloader set context loader classloadertouse loader threadcontextclassloader thread context loader replacement code forname code returns instances primitives array names loader preferably thread context loader classloader loader loaded classutils utils fallback instance supplied classnotfoundexception exception linkageerror linkage error file loaded forname classloader loader getdefaultclassloader loader forname classnotfoundexception exception linkageerror linkage error forname getdefaultclassloader loader replacement code forname code returns instances primitives array names classloader loader loader code code loader instance supplied classnotfoundexception exception linkageerror linkage error file loaded forname classloader loader forname classloader loader classloader loader classnotfoundexception exception linkageerror linkage error notnull clazz resolveprimitiveclassname resolve primitive clazz clazz lang style arrays endswith ends array suffix elementclassname element substring length array suffix length elementclass element forname elementclassname element classloader loader array newinstance instance elementclass element getclass ljava lang style arrays internalarraymarker internal array marker indexof internal array prefix internalarraymarker internal array marker endswith ends elementclassname element internalarraymarker internal array marker elementclassname element substring internal array prefix length length startswith starts elementclassname element substring elementclass element forname elementclassname element classloader loader array newinstance instance elementclass element getclass classloader loader classloadertouse loader classloader loader classloadertouse loader classloadertouse loader getdefaultclassloader loader classloadertouse loader loadclass load resolve instance supports primitives array names effectively equivalent code forname code arguments difference exceptions thrown loading failure classname classloader loader loader code code loader instance supplied illegalargumentexception illegal argument exception resolvable file loaded forname classloader loader resolveclassname resolve classname classloader loader classloader loader illegalargumentexception illegal argument exception forname classname classloader loader classnotfoundexception exception illegalargumentexception illegal argument exception find classname linkageerror linkage error illegalargumentexception illegal argument exception error loading classname problem file dependent resolve primitive jvm jvm naming rules primitive classes supports jvm jvm internal names primitive arrays support suffix notation primitive arrays supported link forname primitive primitive code code denote primitive primitive array resolveprimitiveclassname resolve primitive result names sit length check worthwhile length primitive result primitivetypenamemap primitive type map result determine link identified supplied loaded code code dependencies loaded classname check deprecated spring favor link ispresent classloader loader deprecated ispresent classname ispresent classname getdefaultclassloader loader determine link identified supplied loaded code code dependencies loaded classname check classloader loader loader code code loader ispresent classname classloader loader classloader loader forname classname classloader loader throwable dependencies user defined instance simply instance original cglib generated subclass instance instance check user defined getuserclass user object instance notnull instance instance getuserclass user instance getclass user defined simply original cglib generated subclass clazz check user defined getuserclass user clazz clazz clazz getname cglib separator clazz getsuperclass superclass clazz check cache safe context loaded classloader loader parent clazz analyze classloader loader classloader loader cache metadata iscachesafe cache safe clazz classloader loader classloader loader notnull clazz classloader loader target clazz getclassloader loader target classloader loader cur classloader loader cur target cur cur cur getparent parent cur target qualified classname classname illegalargumentexception illegal argument exception classname empty getshortname classname haslength length classname empty lastdotindex dot classname lastindexof separator nameendindex classname indexof cglib separator nameendindex nameendindex classname length shortname classname substring lastdotindex dot nameendindex shortname shortname replace separator separator shortname qualified clazz getshortname clazz getshortname getqualifiedname qualified clazz decapitalized javabeans beans property format strips clazz rendered standard javabeans beans property format beans introspector decapitalize getshortnameasproperty property clazz shortname classutils utils getshortname clazz dotindex dot shortname lastindexof shortname dotindex dot shortname substring dotindex dot shortname introspector decapitalize shortname determine file relative clazz file file getclassfilename file clazz notnull clazz classname clazz getname lastdotindex dot classname lastindexof separator classname substring lastdotindex dot file suffix determine lang code lang code clazz empty defined getpackagename clazz notnull clazz classname clazz getname lastdotindex dot classname lastindexof separator lastdotindex dot classname substring lastdotindex dot qualified simply component type arrays clazz qualified getqualifiedname qualified clazz notnull clazz clazz isarray array getqualifiednameforarray qualified array clazz clazz getname build nice qualified array component type clazz array qualified array getqualifiednameforarray qualified array clazz stringbuilder builder result stringbuilder builder clazz isarray array clazz clazz getcomponenttype component type result append classutils utils array suffix result insert clazz getname result tostring qualified consisting fully qualified qualified getqualifiedmethodname qualified notnull getdeclaringclass declaring getname getname descriptive object object type simply component type arrays appended list implemented interfaces jdk proxies introspect qualified getdescriptivetype descriptive type object clazz getclass proxy isproxyclass proxy clazz stringbuilder builder result stringbuilder builder clazz getname result append implementing ifcs clazz getinterfaces interfaces ifcs length result append ifcs getname ifcs length result append result tostring clazz isarray array getqualifiednameforarray qualified array clazz clazz getname determine constructor signature essentially translates code nosuchmethodexception exception code clazz clazz analyze paramtypes types parameter types constructor lang getmethod hasconstructor constructor clazz paramtypes types getconstructorifavailable constructor clazz paramtypes types determine constructor signature code code essentially translates code nosuchmethodexception exception code code code clazz clazz analyze paramtypes types parameter types constructor code code lang getconstructor constructor constructor getconstructorifavailable constructor clazz paramtypes types notnull clazz clazz getconstructor constructor paramtypes types nosuchmethodexception exception determine signature essentially translates code nosuchmethodexception exception code clazz clazz analyze methodname paramtypes types parameter types lang getmethod hasmethod clazz methodname paramtypes types getmethodifavailable clazz methodname paramtypes types determine signature code code essentially translates code nosuchmethodexception exception code code code clazz clazz analyze methodname paramtypes types parameter types code code lang getmethod getmethodifavailable clazz methodname paramtypes types notnull clazz notnull methodname clazz getmethod methodname paramtypes types nosuchmethodexception exception number methods argument types superclasses includes methods clazz clazz check methodname number methods getmethodcountforname count clazz methodname notnull clazz notnull methodname count declaredmethods declared methods clazz getdeclaredmethods declared methods declaredmethods declared methods methodname equals getname count ifcs clazz getinterfaces interfaces ifc ifcs count getmethodcountforname count ifc methodname clazz getsuperclass superclass count getmethodcountforname count clazz getsuperclass superclass methodname count superclasses methods argument types includes methods clazz clazz check methodname hasatleastonemethodwithname clazz methodname notnull clazz notnull methodname declaredmethods declared methods clazz getdeclaredmethods declared methods declaredmethods declared methods getname equals methodname ifcs clazz getinterfaces interfaces ifc ifcs hasatleastonemethodwithname ifc methodname clazz getsuperclass superclass hasatleastonemethodwithname clazz getsuperclass superclass methodname target current reflective invocation find target code ifoo foo bar code target code defaultfoo foo code code defaultfoo foo bar code enables attributes note contrast link springframework aop support aoputils aop utils getmostspecificmethod specific resolve bridge methods automatically call link springframework core bridgemethodresolver bridge resolver findbridgedmethod find bridged bridge resolution desirable obtaining metadata original definition invoked targetclass target target current invocation code code implement specific target original code targetclass target code doesn implement code code springframework aop support aoputils aop utils getmostspecificmethod specific getmostspecificmethod specific targetclass target targetclass target targetclass target equals getdeclaringclass declaring targetclass target getmethod getname getparametertypes parameter types nosuchmethodexception exception target doesn implement that fine original methodname clazz defines parameter types code code illegalargumentexception illegal argument exception blank clazz getstaticmethod clazz methodname notnull clazz notnull methodname clazz getdeclaredmethod declared methodname getmodifiers modifiers modifier nosuchmethodexception exception check represents primitive wrapper character integer clazz check primitive wrapper isprimitivewrapper primitive wrapper clazz notnull clazz primitivewrappertypemap primitive wrapper type map containskey key clazz check represents primitive primitive wrapper character integer clazz check primitive primitive wrapper isprimitiveorwrapper primitive wrapper clazz notnull clazz clazz isprimitive primitive isprimitivewrapper primitive wrapper clazz check represents array primitives clazz check primitive array isprimitivearray primitive array clazz notnull clazz clazz isarray array clazz getcomponenttype component type isprimitive primitive check represents array primitive wrappers character integer clazz check primitive wrapper array isprimitivewrapperarray primitive wrapper array clazz notnull clazz clazz isarray array isprimitivewrapper primitive wrapper clazz getcomponenttype component type check hand side type assigned left hand side type assuming setting reflection considers primitive wrapper classes assignable primitive types lhstype lhs type target type rhstype rhs type type assigned target type target type assignable type typeutils type utils isassignable assignable isassignable assignable lhstype lhs type rhstype rhs type notnull lhstype lhs type left hand side type notnull rhstype rhs type hand side type lhstype lhs type isassignablefrom assignable rhstype rhs type lhstype lhs type equals primitivewrappertypemap primitive wrapper type map rhstype rhs type determine type assignable assuming setting reflection considers primitive wrapper classes assignable primitive types type target type assigned type type assignable isassignablevalue assignable type object notnull type type isassignable assignable type getclass type isprimitive primitive convert based resource path based fully qualified resourcepath resource path resource path pointing fully qualified convertresourcepathtoclassname convert resource path resourcepath resource path resourcepath resource path replace convert based fully qualified based resource path classname fully qualified resource path pointing convertclassnametoresourcepath convert resource path classname classname replace path suitable code classloader loader getresource resource code suitable code getresource resource code prepending slash built file converting dots slashes adding trailing slash necesssary concatenating resource function build path suitable loading resource file file link springframework core classpathresource path resource convenient clazz base resourcename resource resource append leading slash optional built resource path lang classloader loader getresource resource lang getresource resource addresourcepathtopackagepath add resource path path clazz resourcename resource notnull resourcename resource resource resourcename resource startswith starts classpackageasresourcepath resource path clazz resourcename resource classpackageasresourcepath resource path clazz resourcename resource input object consists class pathname dots replaced slashes leading trailing slash result concatenated slash resource fed code classloader loader getresource resource code fed code getresource resource code leading slash prepended returned clazz input code code empty result empty returned path represents classloader loader getresource resource getresource resource classpackageasresourcepath resource path clazz clazz classname clazz getname packageendindex classname lastindexof packageendindex packagename classname substring packageendindex packagename replace build consists names classes interfaces array basically code abstractcollection collection tostring code stripping prefix classes collection objects code code form foo bar foo baz util abstractcollection collection tostring classnamestostring names classes classnamestostring names arrays aslist list classes build consists names classes interfaces collection basically code abstractcollection collection tostring code stripping prefix classes collection objects code code form foo bar foo baz util abstractcollection collection tostring classnamestostring names collection classes collectionutils collection utils isempty empty classes stringbuilder builder stringbuilder builder iterator classes iterator hasnext clazz append clazz getname hasnext append append tostring interfaces instance array including implemented superclasses instance instance analyse interfaces interfaces instance array getallinterfaces interfaces object instance notnull instance instance getallinterfacesforclass interfaces instance getclass interfaces array including implemented superclasses returned sole clazz analyse interfaces interfaces object array getallinterfacesforclass interfaces clazz getallinterfacesforclass interfaces clazz interfaces array including implemented superclasses returned sole clazz analyse interfaces classloader loader classloader loader interfaces visible code code accepting declared interfaces interfaces object array getallinterfacesforclass interfaces clazz classloader loader classloader loader notnull clazz clazz isinterface clazz list interfaces arraylist array list clazz ifcs clazz getinterfaces interfaces ifc ifcs interfaces ifc classloader loader isvisible visible ifc classloader loader interfaces add ifc clazz clazz getsuperclass superclass interfaces toarray array interfaces size interfaces instance set including implemented superclasses instance instance analyse interfaces interfaces instance set set getallinterfacesasset interfaces set object instance notnull instance instance getallinterfacesforclassasset interfaces set instance getclass interfaces set including implemented superclasses returned sole clazz analyse interfaces interfaces object set set getallinterfacesforclassasset interfaces set clazz getallinterfacesforclassasset interfaces set clazz interfaces set including implemented superclasses returned sole clazz analyse interfaces classloader loader classloader loader interfaces visible code code accepting declared interfaces interfaces object set set getallinterfacesforclassasset interfaces set clazz classloader loader classloader loader notnull clazz clazz isinterface collections singleton clazz set interfaces linkedhashset linked hash set clazz clazz getinterfaces interfaces length ifc clazz getinterfaces interfaces classloader loader isvisible visible ifc classloader loader interfaces add ifc clazz clazz getsuperclass superclass interfaces create composite interfaces implementing interfaces single implementation builds jdk proxy interfaces interfaces interfaces merge classloader loader classloader loader create composite merged lang reflect proxy getproxyclass proxy createcompositeinterface create composite interfaces classloader loader classloader loader notempty empty interfaces interfaces empty notnull classloader loader classloader loader proxy getproxyclass proxy classloader loader interfaces check visible classloader loader clazz check typically classloader loader classloader loader check code code code code isvisible visible clazz classloader loader classloader loader classloader loader actualclass actual classloader loader loadclass load clazz getname clazz actualclass actual classnotfoundexception exception