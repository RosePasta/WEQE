springframework roo project file ioexception exception inputstream input stream util collections util logging logger commons ioutils utils commons lang lang objectutils object utils commons lang lang validate felix scr annotations component felix scr annotations reference felix scr annotations service springframework roo model javapackage springframework roo process manager activeprocessmanager active process manager springframework roo process manager processmanager process manager springframework roo project packaging packagingprovider packaging provider springframework roo project packaging packagingproviderregistry packaging provider registry springframework roo support logging handlerutils handler utils springframework roo support util domutils dom utils springframework roo support util xmlutils xml utils dom document dom element implementation link mavenoperations maven operations author ben alex author alan stewart component service mavenoperationsimpl maven operations impl abstractprojectoperations project operations mavenoperations maven operations logginginputstream logging input stream thread inputstream input stream inputstream input stream processmanager process manager processmanager process manager constructor inputstream input stream processmanager process manager logginginputstream logging input stream inputstream input stream inputstream input stream processmanager process manager processmanager process manager inputstream input stream inputstream input stream processmanager process manager processmanager process manager override activeprocessmanager active process manager setactiveprocessmanager set active process manager processmanager process manager ioutils utils readlines read lines inputstream input stream startswith starts error logger severe startswith starts warning logger warning logger info ioexception exception condition nix mac condition windows getmessage message file directory getmessage message createprocess create process error logger severe locate maven executable ensure mvn command path ioutils utils closequietly close quietly inputstream input stream activeprocessmanager active process manager clearactiveprocessmanager clear active process manager logger logger handlerutils handler utils getlogger logger mavenoperationsimpl maven operations impl reference packagingproviderregistry packaging provider registry packagingproviderregistry packaging provider registry reference processmanager process manager processmanager process manager addmoduledeclaration add module declaration modulename module document pomdocument pom document element root element moduleselement modules element createmoduleselementifnecessary create modules element pomdocument pom document root ismodulealreadypresent module modulename module moduleselement modules element moduleselement modules element appendchild append child xmlutils xml utils createtextelement create text element pomdocument pom document module modulename module createmodule create module javapackage toplevelpackage top level gav parentpom parent pom modulename module packagingprovider packaging provider selectedpackagingprovider selected packaging provider integer majorjavaversion major version validate istrue iscreatemoduleavailable create module create modules time packagingprovider packaging provider packagingprovider packaging provider getpackagingprovider packaging provider selectedpackagingprovider selected packaging provider pathtonewpom path pom packagingprovider packaging provider createartifacts create artifacts toplevelpackage top level getjavaversion version majorjavaversion major version parentpom parent pom modulename module updateparentmodulepom update parent module pom modulename module setmodule set module pommanagementservice pom management service getpomfrompath pom path pathtonewpom path pom element createmoduleselementifnecessary create modules element document pomdocument pom document element root element moduleselement modules element xmlutils xml utils findfirstelement find element project modules root moduleselement modules element moduleselement modules element pomdocument pom document createelement create element modules element repositories xmlutils xml utils findfirstelement find element project repositories root root insertbefore insert moduleselement modules element repositories moduleselement modules element createproject create project javapackage toplevelpackage top level projectname project integer majorjavaversion major version gav parentpom parent pom packagingprovider packaging provider selectedpackagingprovider selected packaging provider validate istrue iscreateprojectavailable create project project creation unavailable time packagingprovider packaging provider packagingprovider packaging provider getpackagingprovider packaging provider selectedpackagingprovider selected packaging provider packagingprovider packaging provider createartifacts create artifacts toplevelpackage top level projectname project getjavaversion version majorjavaversion major version parentpom parent pom executemvncommand execute mvn command extra ioexception exception file root file getprojectroot project root validate istrue root isdirectory directory root exists project root exist directory root getcanonicalpath canonical path cmd file separatorchar separator mvn bat mvn extra process runtime getruntime runtime exec cmd root ensure separate threads logging roo logginginputstream logging input stream input logginginputstream logging input stream getinputstream input stream processmanager process manager logginginputstream logging input stream errors logginginputstream logging input stream geterrorstream error stream processmanager process manager close outputstream output stream avoid blocking maven commands expect input roo ioutils utils closequietly close quietly getoutputstream output stream input start errors start waitfor wait logger warning command cmd complete interruptedexception interrupted exception illegalstateexception illegal exception returns project project target version pom format majorjavaversion major version major version user code code auto detect blank getjavaversion version integer majorjavaversion major version majorjavaversion major version majorjavaversion major version majorjavaversion major version valueof majorjavaversion major version valid version detect major version ver system getproperty property version ver workaround roo ver running roo packagingprovider packaging provider getpackagingprovider packaging provider packagingprovider packaging provider selectedpackagingprovider selected packaging provider objectutils object utils defaultifnull selectedpackagingprovider selected packaging provider packagingproviderregistry packaging provider registry getdefaultpackagingprovider packaging provider getprojectroot project root pathresolver path resolver getroot root path root getmodulepathid module path pommanagementservice pom management service getfocusedmodulename focused module iscreatemoduleavailable create module iscreateprojectavailable create project isprojectavailable project getfocusedmodulename focused module ismodulealreadypresent module modulename module element moduleselement modules element element element xmlutils xml utils findelements find elements module moduleselement modules element element gettextcontent text content trim equals modulename module updateparentmodulepom update parent module pom modulename module parentpompath parent pom path pommanagementservice pom management service getfocusedmodule focused module getpath path document parentpomdocument parent pom document xmlutils xml utils readxml read xml filemanager file manager getinputstream input stream parentpompath parent pom path element parentpomroot parent pom root parentpomdocument parent pom document getdocumentelement document element domutils dom utils createchildifnotexists create child exists packaging parentpomroot parent pom root parentpomdocument parent pom document settextcontent set text content pom addmoduledeclaration add module declaration modulename module parentpomdocument parent pom document parentpomroot parent pom root addmodulemessage add module message getdescriptionofchange description change collections singleton modulename module module modules filemanager file manager createorupdatetextfileifrequired create update text file required getfocusedmodule focused module getpath path xmlutils xml utils nodetostring node parentpomdocument parent pom document addmodulemessage add module message