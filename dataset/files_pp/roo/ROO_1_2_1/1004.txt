springframework roo shell jline commons ioutils utils separator printwriter print writer stringwriter writer util logging formatter util logging handler util logging level util logging logrecord log record jline ansibuffer ansi buffer jline consolereader console reader commons ioutils utils commons lang lang systemutils system utils commons lang lang validate springframework roo shell shellpromptaccessor shell prompt accessor jdk logging link handler emits log messages jline link consolereader console reader author ben alex jlineloghandler log handler handler bright colors getboolean roo bright includethreadname include thread lastmessage message threadlocal thread local redrawprohibit redraw prohibit threadlocal thread local suppressduplicatemessages suppress duplicate messages cancelredrawprohibition cancel redraw prohibition redrawprohibit redraw prohibit remove text brighter requested system property roo bright works issue windows reverse combination jansi lib leaves negative flag set reset explicitly patched ansibuffer ansi buffer ansibuffer ansi buffer getansibuffer ansi buffer esc ansibuffer ansi buffer override ansibuffer ansi buffer attrib str code bright colors code code color code add bright code append esc code append str append ansicodes ansi codes attrib attrib str code override ansibuffer ansi buffer reverse str systemutils system utils windows reverse str append ansicodes ansi codes attrib esc reverse str issuppressduplicatemessages suppress duplicate messages suppressduplicatemessages suppress duplicate messages prohibitredraw prohibit redraw redrawprohibit redraw prohibit set resetmessagetracking reset message tracking lastmessage message roo setincludethreadname set include thread include includethreadname include thread include setsuppressduplicatemessages set suppress duplicate messages suppressduplicatemessages suppress duplicate messages jlineloghandler log handler suppressduplicatemessages suppress duplicate messages suppressduplicatemessages suppress duplicate messages ansisupported ansi supported consolereader console reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor userinterfacethreadname user thread jlineloghandler log handler consolereader console reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor validate notnull reader console reader required validate notnull shellpromptaccessor shell prompt accessor shell prompt accessor required reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor userinterfacethreadname user thread thread currentthread current thread getname ansisupported ansi supported reader getterminal terminal isansisupported ansi supported setformatter set formatter formatter override format logrecord log record record stringbuilder builder stringbuilder builder record getmessage message append record getmessage message append separator record getthrown thrown printwriter print writer stringwriter writer stringwriter writer printwriter print writer record getthrown thrown printstacktrace print stack trace append tostring exception ioutils utils closequietly close quietly tostring override close securityexception security exception override flush override publish logrecord log record record avoid repeating message displayed current message roo roo todisplay display todisplay display record todisplay display equals lastmessage message suppressduplicatemessages suppress duplicate messages lastmessage message todisplay display stringbuffer buffer buffer reader getcursorbuffer cursor buffer getbuffer buffer cursor reader getcursorbuffer cursor buffer cursor reader getcursorbuffer cursor buffer length user semi typed debug message separated reader printnewline print newline cancel typed reset appears empty reader getcursorbuffer cursor buffer setbuffer set buffer stringbuffer buffer reader getcursorbuffer cursor buffer cursor ensures displayed redrawing reader setdefaultprompt set prompt reader redrawline redraw restore formatting settings original reader setdefaultprompt set prompt shellpromptaccessor shell prompt accessor getshellprompt shell prompt reader getcursorbuffer cursor buffer setbuffer set buffer buffer reader getcursorbuffer cursor buffer cursor cursor reader printstring print todisplay display prohibitingredraw prohibiting redraw redrawprohibit redraw prohibit prohibitingredraw prohibiting redraw reader redrawline redraw reader flushconsole flush console exception reporterror report error publish log message level severe intvalue todisplay display logrecord log record event stringbuilder builder stringbuilder builder threadname thread eventstring event includethreadname include thread userinterfacethreadname user thread equals thread currentthread current thread getname equals thread currentthread current thread getname threadname thread thread currentthread current thread getname build event indent nicely left hand side thread stringbuilder builder lineseparatorandindentingstring separator indenting stringbuilder builder threadname thread length lineseparatorandindentingstring separator indenting append eventstring event getformatter formatter format event replace separator separator lineseparatorandindentingstring separator indenting tostring eventstring event endswith ends lineseparatorandindentingstring separator indenting tostring eventstring event eventstring event substring eventstring event length lineseparatorandindentingstring separator indenting length threadname thread eventstring event getformatter formatter format event ansisupported ansi supported event getlevel level intvalue level severe intvalue append getansibuffer ansi buffer reverse threadname thread red eventstring event event getlevel level intvalue level warning intvalue append getansibuffer ansi buffer reverse threadname thread magenta eventstring event event getlevel level intvalue level info intvalue append getansibuffer ansi buffer reverse threadname thread green eventstring event append getansibuffer ansi buffer reverse threadname thread append eventstring event append threadname thread append eventstring event tostring