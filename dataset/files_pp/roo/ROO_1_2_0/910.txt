springframework roo project maven junit assertequals equals junit assertnotnull mockito mockito mock mockito mockito springframework roo project path src springframework roo project path src test springframework roo project maven pom packaging file net url util collection util iterator junit junit test mockito mock mockito mockitoannotations mockito annotations springframework roo project dependency springframework roo project packaging packagingprovider packaging provider springframework roo project packaging packagingproviderregistry packaging provider registry springframework roo support util pair springframework uaa client util xmlutils xml utils dom document dom element unit test link pomfactoryimpl pom factory impl author andrew swan pomfactoryimpltest pom factory impl test constants module module fixture pomfactoryimpl pom factory impl factory mock packagingproviderregistry packaging provider registry mockpackagingproviderregistry mock packaging provider registry setup set exception mockitoannotations mockito annotations initmocks init mocks factory pomfactoryimpl pom factory impl factory packagingproviderregistry packaging provider registry mockpackagingproviderregistry mock packaging provider registry returns url pom file pomfilename pom file pom test test code code url exception url getpomurl pom url pomfilename pom file exception url pomurl pom url getclass getresource resource pomfilename pom file assertnotnull can find test pom pomfilename pom file classpath getclass getname pomurl pom url pomurl pom url returns root element canonical path pom file pomfilename pom file pom test test code code pair exception pair element getpom pom pomfilename pom file exception url pomurl pom url getpomurl pom url pomfilename pom file file pomfile pom file file pomurl pom url touri uri document pomdocument pom document xmlutils xml utils parse pomurl pom url openstream open stream pair element pomdocument pom document getdocumentelement document element pomfile pom file getcanonicalpath canonical path file getpomfile pom file pomfilename pom file exception url pomurl pom url getpomurl pom url pomfilename pom file file pomurl pom url touri uri pom invokefactory invoke factory pomfile pom file exception pair element pomdetails pom details getpom pom pomfile pom file factory getinstance instance pomdetails pom details getkey key pomdetails pom details getvalue module assertgav gav pom pom expectedgroupid expected group expectedartifactid expected artifact expectedversion expected version assertequals equals expectedgroupid expected group pom getgroupid group assertequals equals expectedartifactid expected artifact pom getartifactid artifact assertequals equals expectedversion expected version pom getversion version test testgetminimalinstance test minimal instance exception set setupmockpackagingprovider set mock packaging provider packaging invoke pom pom invokefactory invoke factory minimal pom xml check assertgav gav pom minimal app assertequals equals src getdefaultlocation location pom getsourcedirectory source directory assertequals equals src test getdefaultlocation location pom gettestsourcedirectory test source directory setupmockpackagingprovider set mock packaging provider providerid provider packagingprovider packaging provider mockpackagingprovider mock packaging provider mock packagingprovider packaging provider mockpackagingproviderregistry mock packaging provider registry getpackagingprovider packaging provider providerid provider thenreturn mockpackagingprovider mock packaging provider test testgetinstancewithdependency test instance dependency exception set setupmockpackagingprovider set mock packaging provider packaging invoke pom pom invokefactory invoke factory pom dependencies xml check assertgav gav pom dependent app collection dependency dependencies pom getdependencies dependencies assertequals equals dependencies size dependency dependency dependencies iterator assertequals equals dependency getgroupid group assertequals equals commons lang dependency getartifactid artifact assertequals equals dependency getversion version test testgetinstancewithinheritedgroupid test instance inherited group exception set setupmockpackagingprovider set mock packaging provider packaging invoke pom pom invokefactory invoke factory inherited groupid group pom xml check assertgav gav pom child app assertequals equals prod sources pom getsourcedirectory source directory assertequals equals test sources pom gettestsourcedirectory test source directory test testgetinstancewithpompackaging test instance pom packaging exception set setupmockpackagingprovider set mock packaging provider pom pomfilename pom file parent pom xml invoke pom pom invokefactory invoke factory pomfilename pom file check assertgav gav pom parent app assertequals equals pom pom getpackaging packaging assertequals equals src getdefaultlocation location pom getsourcedirectory source directory assertequals equals src test getdefaultlocation location pom gettestsourcedirectory test source directory collection module modules pom getmodules modules assertequals equals modules size iterator module moduleiterator module iterator modules iterator assertmodule module moduleiterator module iterator module pomfilename pom file assertmodule module moduleiterator module iterator module pomfilename pom file assertmodule module module module expectedname expected pomfilename pom file exception assertequals equals expectedname expected module getname file parentpomdirectory parent pom directory getpomfile pom file pomfilename pom file getparentfile parent file file moduledirectory module directory file parentpomdirectory parent pom directory expectedname expected file modulepom module pom file moduledirectory module directory pom xml assertequals equals modulepom module pom getcanonicalpath canonical path module getpompath pom path