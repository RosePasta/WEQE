springframework roo project junit assertequals equals junit assertnull mockito matchers mockito matchers mockito mockito mock mockito mockito verify mockito mockito bytearrayinputstream array input stream util arrays util collection junit junit test mockito mock mockito mockitoannotations mockito annotations springframework roo metadata metadataservice metadata service springframework roo process manager filemanager file manager springframework roo project maven pom springframework roo support util stringutils utils unit test link mavenoperationsimpl maven operations impl author andrew swan mavenoperationsimpltest maven operations impl test constants artifact foo lib classifier exe group pom path path simple description foo library version fixture mavenoperationsimpl maven operations impl projectoperations project operations mock filemanager file manager mockfilemanager mock file manager mock metadataservice metadata service mockmetadataservice mock metadata service mock pathresolver path resolver mockpathresolver mock path resolver mock pommanagementservice pom management service mockpommanagementservice mock pom management service mock projectmetadata project metadata mockprojectmetadata mock project metadata setup set mocks mockitoannotations mockito annotations initmocks init mocks mockpathresolver mock path resolver getidentifier identifier path root getmodulepathid module path mavenprojectmetadataprovider maven project metadata provider pom relative path thenreturn pom path object test projectoperations project operations mavenoperationsimpl maven operations impl projectoperations project operations filemanager file manager mockfilemanager mock file manager projectoperations project operations metadataservice metadata service mockmetadataservice mock metadata service projectoperations project operations pathresolver path resolver mockpathresolver mock path resolver projectoperations project operations pommanagementservice pom management service mockpommanagementservice mock pom management service pom dependency removed project dependencies dependency groupid group group groupid group artifactid artifact artifact artifactid artifact version version version scope scope classifier classifier classifier dependency dependency groupid group groupid group artifactid artifact test lib artifactid artifact version version scope test scope dependency dependencies project pom dependency removed xml version encoding utf standalone project dependencies dependency groupid group groupid group artifactid artifact test lib artifactid artifact version version scope test scope dependency dependencies project test testremovedependencytwicewhenitexistsonce test remove dependency exists set mockfilemanager mock file manager getinputstream input stream pom path thenreturn bytearrayinputstream array input stream pom dependency removed getbytes bytes dependency remove dependency mockdependency mock dependency mock dependency mockdependency mock dependency getartifactid artifact thenreturn artifact mockdependency mock dependency getclassifier classifier thenreturn classifier mockdependency mock dependency getgroupid group thenreturn group mockdependency mock dependency getsimpledescription simple description thenreturn simple description mockdependency mock dependency gettype type thenreturn dependencytype dependency type jar mockdependency mock dependency getversion version thenreturn version mockmetadataservice mock metadata service projectmetadata project metadata getprojectidentifier project identifier thenreturn mockprojectmetadata mock project metadata pom pom mock pom pom getpath path thenreturn pom path mockprojectmetadata mock project metadata getpom pom thenreturn pom collection dependency dependencies arrays aslist list mockdependency mock dependency mockdependency mock dependency pom isanydependenciesregistered dependencies registered dependencies thenreturn pom isdependencyregistered dependency registered mockdependency mock dependency thenreturn invoke projectoperations project operations removedependencies remove dependencies dependencies check expectedpom expected pom pom dependency removed replace stringutils utils separator verify mockfilemanager mock file manager createorupdatetextfileifrequired create update text file required pom path expectedpom expected pom test testgetfocusedmodulewhennomodulesexist test focused module modules exist set mockpommanagementservice mock pom management service getfocusedmodulename focused module thenreturn mockmetadataservice mock metadata service projectmetadata project metadata getprojectidentifier project identifier thenreturn invoke check assertnull projectoperations project operations getfocusedmodule focused module test testgetfocusedmodulewhenchildmodulehasfocus test focused module child module focus set mockpommanagementservice mock pom management service getfocusedmodulename focused module thenreturn child pom mockchildpom mock child pom mock pom projectmetadata project metadata mockchildmetadata mock child metadata mock projectmetadata project metadata mockchildmetadata mock child metadata getpom pom thenreturn mockchildpom mock child pom mockmetadataservice mock metadata service projectmetadata project metadata getprojectidentifier project identifier child thenreturn mockchildmetadata mock child metadata invoke check assertequals equals mockchildpom mock child pom projectoperations project operations getfocusedmodule focused module test testcannotfocusmodulewhenoneorlessmodulesexist test focus module modules exist assertmodulefocusallowed module focus allowed test testcannotfocusmodulewhenmorethanonemoduleexists test focus module module exists assertmodulefocusallowed module focus allowed core assertmodulefocusallowed module focus allowed expectedresult expected result modulenames module names set mockpommanagementservice mock pom management service getmodulenames module names thenreturn arrays aslist list modulenames module names invoke check assertequals equals expectedresult expected result projectoperations project operations ismodulefocusallowed module focus allowed