springframework roo shell springframework roo support util stringutils utils separator bufferedinputstream buffered input stream bufferedreader buffered reader file fileinputstream file input stream filenotfoundexception file exception ioexception exception inputstream input stream inputstreamreader input stream reader net urisyntaxexception uri syntax exception net url text dateformat format util collection util util map entry util set util treeset tree set util jar jarfile jar file util jar manifest util logging level util logging logger util zip zipentry zip entry springframework roo shell event abstractshellstatuspublisher shell status publisher springframework roo shell event shellstatus shell status springframework roo shell event shellstatus shell status status springframework roo support logging handlerutils handler utils springframework roo support util springframework roo support util ioutils utils springframework roo support util mathutils math utils springframework roo support util stringutils utils base link shell implementation author ben alex abstractshell shell abstractshellstatuspublisher shell status publisher shell constants slot abstractshell shell getname roo prompt roo fields don rename api changed sts completionkeys completion tab shellprompt shell prompt roo prompt instance fields logger logger handlerutils handler utils getlogger logger getclass inblockcomment block comment exitshellrequest exit shell request exitshellrequest exit shell request returns classpath resources path path path search code code search can performed collection url findresources find resources path gethomeasstring executionstrategy execution strategy getexecutionstrategy execution strategy parser getparser parser clicommand cli command script parses resource file executes commands script clioption cli option key file file locate execute mandatory file script clioption cli option key linenumbers numbers mandatory specifieddefaultvalue unspecifieddefaultvalue unspecified display numbers executing script linenumbers numbers notnull script script file parse required startednanoseconds started nanoseconds system nanotime nano time inputstream input stream inputstream input stream openscript open script script bufferedreader buffered reader bufferedreader buffered reader inputstreamreader input stream reader inputstream input stream readline read linenumbers numbers logger fine logger fine equals trim success executescriptline execute script success trim startswith starts trim startswith starts success abort script processing wrong illegalstateexception illegal exception script execution aborted ioexception exception illegalstateexception illegal exception ioutils utils closequietly close quietly inputstream input stream executiondurationinseconds execution duration seconds system nanotime nano time startednanoseconds started nanoseconds logger fine script required mathutils math utils executiondurationinseconds execution duration seconds seconds execute opens script reading script script read required code code input stream inputstream input stream openscript open script file script bufferedinputstream buffered input stream fileinputstream file input stream script filenotfoundexception file exception fnfe find script classloader collection url urls findresources find resources script getname handle search failure notnull urls unexpected error script getname handle search file simply notempty empty urls script script disk classpath istrue urls size script classpath unable urls iterator openstream open stream ioexception exception illegalstateexception illegal exception execute single script overridden classes pre process script lines executescriptline execute script executecommand execute command executecommand execute command command attempted setshellstatus set shell status shellstatus shell status status parsing executionstrategy execution strategy executionstrategy execution strategy getexecutionstrategy execution strategy flashedmessage flashed message executionstrategy execution strategy executionstrategy execution strategy isreadyforcommands ready commands wait thread sleep interruptedexception interrupted exception ignore flashedmessage flashed message flash level info wait loading slot flashedmessage flashed message flashedmessage flashed message flash level info slot parseresult parse result parseresult parse result support simple block comments single pair inblockcomment block comment blockcommentbegin block comment lhs substring lastindexof lhs substring lastindexof blockcommentfinish block comment finish lhs inblockcomment block comment blockcommentfinish block comment finish substring lastindexof support inline comments start valid command options http helloworld fail roo inblockcomment block comment trim startswith starts trim startswith starts support roo convert tab characters whitespace roo replace equals trim setshellstatus set shell status status execution success parseresult parse result getparser parser parse parseresult parse result setshellstatus set shell status status executing object result executionstrategy execution strategy execute parseresult parse result setshellstatus set shell status status execution result processing result result exitshellrequest exit shell request exitshellrequest exit shell request exitshellrequest exit shell request result processmanager process manager chance close threads osgi framework terminated roo executionstrategy execution strategy terminate result iterable object iterable result logger info tostring logger info result tostring logcommandifrequired log command required setshellstatus set shell status status execution success parseresult parse result runtimeexception runtime exception setshellstatus set shell status status execution failed parseresult parse result rely execution strategy log logcommandifrequired log command required exception setshellstatus set shell status status user input subclass log execution formed command invoked command completed command returned returned exception note attempted commands formed missing mandatory argument presented command execution attempted cases invoked attempt execute command implementations specially handling script commands indicating command successful implementations behave consistently link abstractshell shell subclasses encouraged simply override link logcommandtooutput log command output override fine tune output logic parsed comments removed successful command successful logcommandifrequired log command required successful startswith starts script logcommandtooutput log command output successful failed logcommandtooutput log command output successful failed subclass write logged command form output frees subclasses needing implement logic link logcommandifrequired log command required implementations invoke link getexitshellrequest exit shell request monitor attempts exit shell release resources output log files processedline processed appended type output excluding character logcommandtooutput log command output processedline processed base implementation link shell setpromptpath set prompt path designed simple shell implementations advanced implementations support ansi codes override set link shellprompt shell prompt variable path set empty formatted special ansi codes setpromptpath set prompt path path path equals path shellprompt shell prompt roo prompt shellprompt shell prompt path roo prompt implementation link shell setpromptpath set prompt path satisfy sts compatibility path set empty overridestyle override style setpromptpath set prompt path path overridestyle override style setpromptpath set prompt path path exitshellrequest exit shell request getexitshellrequest exit shell request exitshellrequest exit shell request clicommand cli command inline comment markers start inlinecomment inline comment clicommand cli command start block comment blockcommentbegin block comment istrue inblockcomment block comment open block comment active inblockcomment block comment clicommand cli command block comment blockcommentfinish block comment finish istrue inblockcomment block comment close block comment opened inblockcomment block comment clicommand cli command system properties shell shell properties props set data treeset tree set repeatability entry object object entry system getproperties properties entryset entry set data add entry getkey key entry getvalue stringutils utils collectiontodelimitedstring collection delimited data separator separator clicommand cli command displays local time dateformat format getdatetimeinstance time instance dateformat format full dateformat format full format clicommand cli command flash test tests message flashing flashcustom flash custom exception flash level fine thread sleep flash level fine thread sleep flash level fine small thread sleep flash level fine downloading xyz thread sleep flash level fine thread sleep flash level fine downloaded xyz thread sleep flash level fine system online thread sleep flash level fine system ready thread sleep flash level fine system farewell thread sleep flash level fine thread sleep flash level fine clicommand cli command version displays shell version version clioption cli option key special version flags extra stringbuilder builder stringbuilder builder jaime equals extra append append separator append append separator append append separator append append separator append append separator append append separator append append separator append loading roo append separator append append separator append append separator append append separator append append separator append append separator append roo append separator append append separator append append separator append append separator append append separator append append separator append append separator append append append versioninfo version info append separator tostring append append separator append append separator append append separator append append separator append append append versioninfo version info append separator append separator tostring versioninfo version info determine bundle version bundleversion bundle version gitcommithash git commit hash jarfile jar file jarfile jar file url classcontainer container abstractshell shell getprotectiondomain protection domain getcodesource code source getlocation location classcontainer container tostring endswith ends jar attempt bundle version version manifest jarfile jar file jarfile jar file file classcontainer container touri uri zipentry zip entry manifestentry manifest entry jarfile jar file getentry entry meta inf manifest manifest manifest manifest jarfile jar file getinputstream input stream manifestentry manifest entry bundleversion bundle version manifest getmainattributes attributes getvalue bundle version gitcommithash git commit hash manifest getmainattributes attributes getvalue git commit hash ioexception exception ignoreandmoveon ignore move urisyntaxexception uri syntax exception ignoreandmoveon ignore move ioutils utils closequietly close quietly jarfile jar file stringbuilder builder stringbuilder builder bundleversion bundle version append bundleversion bundle version gitcommithash git commit hash gitcommithash git commit hash length length append separate version append rev append gitcommithash git commit hash substring append length append unknown version tostring getshellprompt shell prompt shellprompt shell prompt obtains directory current shell instance note calls link gethomeasstring subclasses provide directory location environment specific strategies path link gethomeasstring exists refers directory directory returned path link gethomeasstring exists refers file exception thrown path link gethomeasstring exist created directory fails exception thrown directory current shell instance guaranteed exist directory file gethome roohome roo gethomeasstring file file roohome roo istrue exists exists isdirectory directory path getabsolutepath absolute path directory exist exists mkdirs istrue exists isdirectory directory path getabsolutepath absolute path directory roo system property correctly simple implementation link flash level simply displays message logger recommended shell implementations override effective approach flash level level message slot notnull level level required flash message notnull message message required flash message hastext text slot slot flash message equals message logger log level message