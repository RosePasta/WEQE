top level segment ioexception exception javax servlet filterchain filter chain javax servlet servletexception servlet exception javax servlet servletrequest servlet request javax servlet servletresponse servlet response javax servlet http httpservletrequest http servlet request javax servlet http httpservletresponse http servlet response springframework beans factory annotation autowired springframework security authentication authenticationdetailssource authentication details source springframework security authentication authenticationmanager authentication manager springframework security core authentication springframework security core authenticationexception authentication exception springframework security core context securitycontextholder security context holder springframework security web authentication authenticationfailurehandler authentication failure handler springframework security web authentication simpleurlauthenticationfailurehandler simple url authentication failure handler springframework security web authentication webauthenticationdetails web authentication details springframework security web authentication webauthenticationdetailssource web authentication details source springframework security web authentication preauth preauthenticatedauthenticationtoken pre authenticated authentication token springframework stereotype component springframework web filter genericfilterbean filter bean google appengine api users user google appengine api users userservice user service google appengine api users userservicefactory user service factory component googleauthenticationfilter google authentication filter genericfilterbean filter bean authenticationmanager authentication manager authenticationmanager authentication manager authenticationdetailssource authentication details source httpservletrequest http servlet request webauthenticationdetails web authentication details ads webauthenticationdetailssource web authentication details source authenticationfailurehandler authentication failure handler authenticationfailurehandler authentication failure handler simpleurlauthenticationfailurehandler simple url authentication failure handler userservice user service userservice user service userservicefactory user service factory getuserservice user service autowired setauthenticationmanager set authentication manager authenticationmanager authentication manager authenticationmanager authentication manager authenticationmanager authentication manager authenticationmanager authentication manager override dofilter filter servletrequest servlet request request servletresponse servlet response response filterchain filter chain chain ioexception exception servletexception servlet exception authentication authentication securitycontextholder security context holder getcontext context getauthentication authentication authentication user user userservice user service getcurrentuser current user user email user getemail email preauthenticatedauthenticationtoken pre authenticated authentication token token preauthenticatedauthenticationtoken pre authenticated authentication token email token setdetails set details ads builddetails build details httpservletrequest http servlet request request authentication authenticationmanager authentication manager authenticate token securitycontextholder security context holder getcontext context setauthentication set authentication authentication authenticationexception authentication exception authenticationfailurehandler authentication failure handler onauthenticationfailure authentication failure httpservletrequest http servlet request request httpservletresponse http servlet response response chain dofilter filter request response