springframework roo addon web mvc jsp tiles bytearrayoutputstream array output stream file ioexception exception outputstream output stream javax xml parsers documentbuilder document builder javax xml transform outputkeys output javax xml transform transformer commons ioutils utils commons lang lang stringutils utils commons lang lang validate felix scr annotations component felix scr annotations reference felix scr annotations service springframework roo process manager filemanager file manager springframework roo process manager mutablefile mutable file springframework roo project logicalpath logical path springframework roo project pathresolver path resolver springframework roo support util fileutils file utils springframework roo support util xmlutils xml utils dom document dom element xml sax entityresolver entity resolver xml sax inputsource input source xml sax saxexception sax exception operations manage tiles view definitions author stefan schmidt component service tilesoperationsimpl tiles operations impl tilesoperations tiles operations tilesdtdresolver tiles dtd resolver entityresolver entity resolver inputsource input source resolveentity resolve entity publicid systemid system systemid system equals http tiles dtds tiles config dtd inputsource input source fileutils file utils getinputstream input stream tilesoperationsimpl tiles operations impl tiles config dtd behaviour reference filemanager file manager filemanager file manager reference pathresolver path resolver pathresolver path resolver addviewdefinition add view definition foldername folder logicalpath logical path path tilesviewname tiles view tilestemplatename tiles template viewlocation view location validate notblank blank tilesviewname tiles view view required validate notblank blank tilestemplatename tiles template template required validate notblank blank viewlocation view location view location required viewsdefinitionfile views definition file gettilesconfigfile tiles config file foldername folder path unprefixedviewname unprefixed view stringutils utils removestart remove start tilesviewname tiles view element root getviewselement views element viewsdefinitionfile views definition file element existingdefinition existing definition xmlutils xml utils findfirstelement find element tiles definitions definition unprefixedviewname unprefixed view root existingdefinition existing definition definition exist element newdefinition definition root getownerdocument owner document createelement create element definition newdefinition definition setattribute set attribute unprefixedviewname unprefixed view newdefinition definition setattribute set attribute tilestemplatename tiles template element putattribute attribute root getownerdocument owner document createelement create element attribute putattribute attribute setattribute set attribute body putattribute attribute setattribute set attribute viewlocation view location newdefinition definition appendchild append child putattribute attribute root appendchild append child newdefinition definition writetodiskifnecessary write disk viewsdefinitionfile views definition file root returns canonical path views xml tiles configuration file folder foldername folder blank views file leading slash path code code path gettilesconfigfile tiles config file foldername folder logicalpath logical path path subpath path stringutils utils isnotblank blank foldername folder equals foldername folder subpath path foldername folder subpath path pathresolver path resolver getidentifier identifier path web inf views subpath path views xml returns root element tiles configuration file viewsdefinitionfile views definition file canonical path file load root xml document file exist element getviewselement views element viewsdefinitionfile views definition file document tilesview tiles view filemanager file manager exists viewsdefinitionfile views definition file documentbuilder document builder builder xmlutils xml utils getdocumentbuilder document builder builder setentityresolver set entity resolver tilesdtdresolver tiles dtd resolver tilesview tiles view builder parse filemanager file manager getinputstream input stream viewsdefinitionfile views definition file saxexception sax exception illegalstateexception illegal exception unable parse tiles viewsdefinitionfile views definition file file ioexception exception ioe illegalstateexception illegal exception unable read tiles viewsdefinitionfile views definition file file reason ioe getmessage message ioe tilesview tiles view xmlutils xml utils getdocumentbuilder document builder newdocument document tilesview tiles view appendchild append child tilesview tiles view createelement create element tiles definitions tilesview tiles view getdocumentelement document element removeviewdefinition remove view definition foldername folder logicalpath logical path path validate notblank blank view required viewsdefinitionfile views definition file gettilesconfigfile tiles config file foldername folder path element root getviewselement views element viewsdefinitionfile views definition file find menu item category exists element element xmlutils xml utils findfirstelement find element tiles definitions definition root element element getparentnode parent node removechild remove child element writetodiskifnecessary write disk viewsdefinitionfile views definition file root viewsdefinitionfile views definition file canonical path file update body element parent document written writetodiskifnecessary write disk tilesdefinitionfile tiles definition file element body build representation tiles config file bytearrayoutputstream array output stream bytearrayoutputstream array output stream bytearrayoutputstream array output stream transformer transformer xmlutils xml utils createindentingtransformer create indenting transformer transformer setoutputproperty set output property outputkeys output doctype system http tiles dtds tiles config dtd transformer setoutputproperty set output property outputkeys output doctype software foundation dtd tiles configuration xmlutils xml utils writexml write xml transformer bytearrayoutputstream array output stream body getownerdocument owner document viewcontent view content bytearrayoutputstream array output stream tostring mutablefile mutable file write contents jspcontent jsp content file mutablefile mutable file mutablefile mutable file filemanager file manager exists tilesdefinitionfile tiles definition file verify file changed file file file tilesdefinitionfile tiles definition file existing existing commons fileutils file utils readfiletostring read file file ioexception exception viewcontent view content equals existing mutablefile mutable file filemanager file manager updatefile update file tilesdefinitionfile tiles definition file mutablefile mutable file filemanager file manager createfile create file tilesdefinitionfile tiles definition file validate notnull mutablefile mutable file create tiles view definition tilesdefinitionfile tiles definition file mutablefile mutable file outputstream output stream outputstream output stream write file file existing file contents outputstream output stream mutablefile mutable file getoutputstream output stream ioutils utils write viewcontent view content outputstream output stream wrote file ioexception exception ioe illegalstateexception illegal exception output mutablefile mutable file getcanonicalpath canonical path ioe ioutils utils closequietly close quietly outputstream output stream file existed contained content