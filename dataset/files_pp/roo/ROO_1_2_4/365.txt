springframework roo addon layers repository mongo junit assertequals equals junit assertnull mockito mockito mock mockito mockito springframework roo classpath customdata customdatakeys custom data find util arrays junit junit test mockito mock mockito mockitoannotations mockito annotations springframework roo classpath customdata tagkeys methodmetadatacustomdatakey metadata custom data key springframework roo classpath details classorinterfacetypedetails type details springframework roo classpath details fieldmetadata field metadata springframework roo classpath layers membertypeadditions member type additions springframework roo classpath layers methodparameter parameter springframework roo classpath persistence persistencememberlocator persistence member locator springframework roo model javatype type unit test link repositorymongolayerprovider repository mongo layer provider author stefan schmidt repositorymongolayerprovidertest repository mongo layer provider test caller mid mid petservice pet service fixture repositorymongolayerprovider repository mongo layer provider layerprovider layer provider mock javatype type mockidtype mock type mock repositorymongolocator repository mongo locator mockrepositorylocator mock repository locator mock javatype type mocktargetentity mock target entity asserts link repositorymongolayerprovider repository mongo layer provider generates expected call parameters expectedmethodcall expected call methodkey key callerparameters caller parameters assertmethodcall call expectedmethodcall expected call methodmetadatacustomdatakey metadata custom data key methodkey key methodparameter parameter callerparameters caller parameters set setupmockrepository set mock repository invoke membertypeadditions member type additions additions layerprovider layer provider getmembertypeadditions member type additions caller mid methodkey key mocktargetentity mock target entity mockidtype mock type callerparameters caller parameters check assertequals equals expectedmethodcall expected call additions getmethodcall call setup set mockitoannotations mockito annotations initmocks init mocks layerprovider layer provider repositorymongolayerprovider repository mongo layer provider layerprovider layer provider setrepositorylocator set repository locator mockrepositorylocator mock repository locator sets mock link repositorymongolocator repository mongo locator link persistencememberlocator persistence member locator mock repository test entity setupmockrepository set mock repository classorinterfacetypedetails type details mockrepositorydetails mock repository details mock classorinterfacetypedetails type details fieldmetadata field metadata mockfieldmetadata mock field metadata mock fieldmetadata field metadata javatype type mockrepositorytype mock repository type mock javatype type mockrepositorytype mock repository type getsimpletypename simple type thenreturn clinicrepo clinic repo mockidtype mock type getfullyqualifiedtypename fully qualified type thenreturn getname mockrepositorydetails mock repository details getname thenreturn mockrepositorytype mock repository type mockfieldmetadata mock field metadata getfieldtype field type thenreturn mockidtype mock type mockrepositorylocator mock repository locator getrepositories repositories mocktargetentity mock target entity thenreturn arrays aslist list mockrepositorydetails mock repository details test testgetadditionsfornonrepositorylayermethod test additions repository layer invoke membertypeadditions member type additions additions layerprovider layer provider getmembertypeadditions member type additions caller mid bogus mocktargetentity mock target entity mockidtype mock type check assertnull additions test testgetadditionswhennorepositoriesexist test additions repositories exist invoke membertypeadditions member type additions additions layerprovider layer provider getmembertypeadditions member type additions caller mid find mocktargetentity mock target entity mockidtype mock type check assertnull additions test testgetfindalladditions test find additions assertmethodcall call clinicrepo clinic repo findall find find