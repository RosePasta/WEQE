springframework roo project junit assertequals equals junit assertnotnull junit asserttrue mockito matchers mockito matchers mockito mockito mock mockito mockito verify mockito mockito file ioexception exception net url util arrays util collection junit framework assertionfailederror assertion failed error junit junit test mockito mock mockito mockitoannotations mockito annotations osgi framework bundlecontext bundle context osgi service component componentcontext component context springframework roo file monitor filemonitorservice file monitor service springframework roo metadata metadatadependencyregistry metadata dependency registry springframework roo metadata metadataservice metadata service springframework roo process manager filemanager file manager springframework roo project maven pom springframework roo project maven pomfactory pom factory springframework roo shell shell springframework roo support osgi osgiutils utils springframework roo support util fileutils file utils dom element unit test link pommanagementserviceimpl pom management service impl author andrew swan pommanagementserviceimpltest pom management service impl test root module mock filemanager file manager mockfilemanager mock file manager mock filemonitorservice file monitor service mockfilemonitorservice mock file monitor service mock metadatadependencyregistry metadata dependency registry mockmetadatadependencyregistry mock metadata dependency registry mock metadataservice metadata service mockmetadataservice mock metadata service mock pomfactory pom factory mockpomfactory mock pom factory mock shell mockshell mock shell fixture pommanagementserviceimpl pom management service impl service getcanonicalpath canonical path relativepath relative path systemdependentpath system dependent path relativepath relative path replace file separator url resource getclass getresource resource systemdependentpath system dependent path assertnotnull can find systemdependentpath system dependent path classpath getclass getname resource file resource touri uri getcanonicalpath canonical path exception assertionfailederror assertion failed error getmessage message pom getmockpom mock pom modulename module canonicalpath canonical path pom mockpom mock pom mock pom mockpom mock pom getmodulename module thenreturn modulename module mockpom mock pom getpath path thenreturn canonicalpath canonical path mockpomfactory mock pom factory getinstance instance element canonicalpath canonical path modulename module thenreturn mockpom mock pom mockpom mock pom setup set mockitoannotations mockito annotations initmocks init mocks service pommanagementserviceimpl pom management service impl service filemanager file manager mockfilemanager mock file manager service filemonitorservice file monitor service mockfilemonitorservice mock file monitor service service metadatadependencyregistry metadata dependency registry mockmetadatadependencyregistry mock metadata dependency registry service metadataservice metadata service mockmetadataservice mock metadata service service pomfactory pom factory mockpomfactory mock pom factory service shell mockshell mock shell sets working directory service test relativepath relative path desired working directory relative project ioexception exception setupworkingdirectory set working directory relativepath relative path ioexception exception componentcontext component context mockcomponentcontext mock component context mock componentcontext component context bundlecontext bundle context mockbundlecontext mock bundle context mock bundlecontext bundle context mockcomponentcontext mock component context getbundlecontext bundle context thenreturn mockbundlecontext mock bundle context file workingdirectory working directory file target test classes springframework roo project relativepath relative path mockbundlecontext mock bundle context getproperty property osgiutils utils roo working directory property thenreturn workingdirectory working directory getcanonicalpath canonical path service activate mockcomponentcontext mock component context test testgetpomofsinglemoduleprojectwhenparenthasnorelativepath test pom single module project parent relative path exception set setupworkingdirectory set working directory single canonicalpath canonical path getcanonicalpath canonical path single pom xml mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn arrays aslist list canonicalpath canonical path pom mockpom mock pom getmockpom mock pom root module canonicalpath canonical path invoke collection pom poms service getpoms poms check assertequals equals poms size assertequals equals mockpom mock pom poms iterator verifyprojectmetadatanotification verify project metadata notification root module test testgetpomsofmultimoduleprojectwhenchildisdirty test poms multi module project child dirty exception set setupworkingdirectory set working directory multi rootpom root pom fileutils file utils getsystemdependentpath system dependent path multi pom xml rootpomcanonicalpath root pom canonical path getcanonicalpath canonical path rootpom root pom childpom child pom fileutils file utils getsystemdependentpath system dependent path multi foo child pom xml childpomcanonicalpath child pom canonical path getcanonicalpath canonical path childpom child pom collection dirtyfiles dirty files arrays aslist list childpomcanonicalpath child pom canonical path mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn dirtyfiles dirty files pom mockrootpom mock root pom getmockpom mock pom root module rootpomcanonicalpath root pom canonical path childmodulename child module foo child pom mockchildpom mock child pom getmockpom mock pom childmodulename child module childpomcanonicalpath child pom canonical path mockfilemanager mock file manager getinputstream input stream rootpomcanonicalpath root pom canonical path thenreturn getclass getresourceasstream resource stream rootpom root pom mockfilemanager mock file manager getinputstream input stream childpomcanonicalpath child pom canonical path thenreturn getclass getresourceasstream resource stream childpom child pom service addpom add pom mockrootpom mock root pom invoke collection pom poms service getpoms poms check collection pom expectedpoms expected poms arrays aslist list mockrootpom mock root pom mockchildpom mock child pom assertequals equals expectedpoms expected poms size poms size asserttrue poms containsall expectedpoms expected poms verifyprojectmetadatanotification verify project metadata notification childmodulename child module test testgetpomsofmultimoduleprojectwhenparentandchildaredirty test poms multi module project parent child dirty exception set setupworkingdirectory set working directory multi rootpom root pom multi pom xml rootpomcanonicalpath root pom canonical path getcanonicalpath canonical path rootpom root pom childpom child pom multi foo child pom xml childpomcanonicalpath child pom canonical path getcanonicalpath canonical path childpom child pom collection dirtyfiles dirty files arrays aslist list rootpomcanonicalpath root pom canonical path childpomcanonicalpath child pom canonical path mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn dirtyfiles dirty files pom mockrootpom mock root pom getmockpom mock pom root module rootpomcanonicalpath root pom canonical path childmodulename child module foo child pom mockchildpom mock child pom getmockpom mock pom childmodulename child module childpomcanonicalpath child pom canonical path mockfilemanager mock file manager getinputstream input stream rootpomcanonicalpath root pom canonical path thenreturn getclass getresourceasstream resource stream rootpom root pom mockfilemanager mock file manager getinputstream input stream childpomcanonicalpath child pom canonical path thenreturn getclass getresourceasstream resource stream childpom child pom invoke collection pom poms service getpoms poms check collection pom expectedpoms expected poms arrays aslist list mockrootpom mock root pom mockchildpom mock child pom assertequals equals expectedpoms expected poms size poms size asserttrue poms containsall expectedpoms expected poms verifyprojectmetadatanotification verify project metadata notification root module childmodulename child module test testgetpomswhennopomsaredirty test poms poms dirty set collection dirtyfiles dirty files arrays aslist list pom txt mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn dirtyfiles dirty files invoke collection pom poms service getpoms poms check assertequals equals poms size test testgetpomswhenoneemptypomisdirty test poms empty pom dirty exception set collection dirtyfiles dirty files arrays aslist list getcanonicalpath canonical path empty pom xml mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn dirtyfiles dirty files invoke collection pom poms service getpoms poms check assertequals equals poms size test testgetpomswhenonenonexistantpomisdirty test poms existant pom dirty set collection dirtyfiles dirty files arrays aslist list users jbloggs clinic pom xml mockfilemonitorservice mock file monitor service getdirtyfiles dirty files pommanagementserviceimpl pom management service impl getname thenreturn dirtyfiles dirty files invoke collection pom poms service getpoms poms check assertequals equals poms size verifyprojectmetadatanotification verify project metadata notification modulenames module names modulename module modulenames module names projectmetadataid project metadata projectmetadata project metadata getprojectidentifier project identifier modulename module verify mockmetadataservice mock metadata service evictandget evict projectmetadataid project metadata verify mockmetadatadependencyregistry mock metadata dependency registry notifydownstream notify downstream projectmetadataid project metadata