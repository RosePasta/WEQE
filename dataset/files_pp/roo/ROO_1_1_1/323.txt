springframework roo addon web mvc jsp menu bytearrayoutputstream array output stream file ioexception exception outputstreamwriter output stream writer util list felix scr annotations component felix scr annotations reference felix scr annotations service osgi service component componentcontext component context springframework roo addon propfiles propfileoperations prop file operations springframework roo model javasymbolname symbol springframework roo process manager filemanager file manager springframework roo process manager mutablefile mutable file springframework roo project path springframework roo project pathresolver path resolver springframework roo support util springframework roo support util filecopyutils file copy utils springframework roo support util templateutils template utils springframework roo support util xmlelementbuilder xml element builder springframework roo support util xmlroundtriputils xml trip utils springframework roo support util xmlutils xml utils dom document dom element generates jsp menu management menu items author stefan schmidt component service menuoperationsimpl menu operations impl menuoperations menu operations reference filemanager file manager filemanager file manager reference pathresolver path resolver pathresolver path resolver reference propfileoperations prop file operations propfileoperations prop file operations menufile menu file activate componentcontext component context context menufile menu file pathresolver path resolver getidentifier identifier path src webapp web inf views menu jspx addition menu categories menu items category menu item identifier exists overwritten replaced addons determine category menu item identifiers clashes addons recommended category identifier naming convention addon intention category intention represents identifier diffentiate categories addon recommended menu item identifier naming convention addon intention menu item menucategoryname menu category identifier menu category required menuitemid menu item menu item identifier required menuitemlabel menu item label menu item label required globalmessagecode global message code global message code link menu item link required idprefix prefix prefix menu item optional menuoperations menu operations menu item prefix addmenuitem add menu item javasymbolname symbol menucategoryname menu category javasymbolname symbol menuitemid menu item menuitemlabel menu item label globalmessagecode global message code link idprefix prefix notnull menucategoryname menu category menu category required notnull menuitemid menu item menu item required hastext text link link required idprefix prefix idprefix prefix length idprefix prefix menu item prefix document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jspx getmessage message equals getmessage message getmessage message root element menu menu identifier allowing decorations menu element rootelement root element xmlutils xml utils findfirstelement find element menu element document getfirstchild child rootelement root element element rootmenu root menu xmlelementbuilder xml element builder menu menu document addattribute add attribute menu build rootmenu root menu setattribute set attribute xmlroundtriputils xml trip utils calculateuniquekeyfor calculate unique key rootmenu root menu rootelement root element element document getdocumentelement document element appendchild append child rootmenu root menu check existence menu category indentifier element category xmlutils xml utils findfirstelement find element menucategoryname menu category getsymbolname symbol tolowercase rootelement root element exists create category category element rootelement root element appendchild append child xmlelementbuilder xml element builder menu category document addattribute add attribute menucategoryname menu category getsymbolname symbol tolowercase build category setattribute set attribute xmlroundtriputils xml trip utils calculateuniquekeyfor calculate unique key category propfileoperations prop file operations addpropertyifnotexists add property exists path src webapp web inf application properties menu category menucategoryname menu category getsymbolname symbol tolowercase label menucategoryname menu category getreadablesymbolname readable symbol check existence menu item indentifier element menuitem menu item xmlutils xml utils findfirstelement find element idprefix prefix menucategoryname menu category getsymbolname symbol tolowercase menuitemid menu item getsymbolname symbol tolowercase rootelement root element menuitem menu item menuitem menu item xmlelementbuilder xml element builder menu item document addattribute add attribute idprefix prefix menucategoryname menu category getsymbolname symbol tolowercase menuitemid menu item getsymbolname symbol tolowercase addattribute add attribute messagecode message code globalmessagecode global message code addattribute add attribute url link build menuitem menu item setattribute set attribute xmlroundtriputils xml trip utils calculateuniquekeyfor calculate unique key menuitem menu item category appendchild append child menuitem menu item propfileoperations prop file operations addpropertyifnotexists add property exists path src webapp web inf application properties menu item menucategoryname menu category getsymbolname symbol tolowercase menuitemid menu item getsymbolname symbol tolowercase label menuitemlabel menu item label writetodiskifnecessary write disk document cleanupfindermenuitems clean finder menu items javasymbolname symbol menucategoryname menu category list allowedfindermenuids allowed finder menu ids notnull menucategoryname menu category menu category identifier required notnull allowedfindermenuids allowed finder menu ids list allowed menu items required document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jspx find menu items category starts menuitemidprefix menu item prefix list element elements xmlutils xml utils findelements find elements category menucategoryname menu category getsymbolname symbol tolowercase item starts finder menu item prefix document getdocumentelement document element elements size element element elements allowedfindermenuids allowed finder menu ids element getattribute attribute equals element getattribute attribute xmlroundtriputils xml trip utils calculateuniquekeyfor calculate unique key element equals element getattribute attribute element getparentnode parent node removechild remove child element writetodiskifnecessary write disk document attempts locate menu item remove menucategoryname menu category identifier menu category required menuitemname menu item menu item identifier required idprefix prefix prefix menu item optional menuoperations menu operations menu item prefix cleanupmenuitem clean menu item javasymbolname symbol menucategoryname menu category javasymbolname symbol menuitemname menu item idprefix prefix notnull menucategoryname menu category menu category identifier required notnull menuitemname menu item menu item required idprefix prefix idprefix prefix length idprefix prefix menu item prefix document document document xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalargumentexception illegal argument exception unable parse menu jsp find menu item category exists element element xmlutils xml utils findfirstelement find element category menucategoryname menu category getsymbolname symbol tolowercase item idprefix prefix menucategoryname menu category getsymbolname symbol tolowercase menuitemname menu item getsymbolname symbol tolowercase document getdocumentelement document element element equals element getattribute attribute xmlroundtriputils xml trip utils calculateuniquekeyfor calculate unique key element equals element getattribute attribute element getparentnode parent node removechild remove child element writetodiskifnecessary write disk document file getmenufile menu file filemanager file manager exists menufile menu file filecopyutils file copy utils copy templateutils template utils gettemplate template getclass menu jspx filemanager file manager createfile create file menufile menu file getoutputstream output stream exception illegalstateexception illegal exception encountered error copying resources mvc menu addon filemanager file manager exists pathresolver path resolver getidentifier identifier path src webapp web inf tags menu menu tagx filecopyutils file copy utils copy templateutils template utils gettemplate template getclass menu tagx filemanager file manager createfile create file pathresolver path resolver getidentifier identifier path src webapp web inf tags menu menu tagx getoutputstream output stream exception illegalstateexception illegal exception encountered error copying resources mvc menu addon filemanager file manager exists pathresolver path resolver getidentifier identifier path src webapp web inf tags menu item tagx filecopyutils file copy utils copy templateutils template utils gettemplate template getclass item tagx filemanager file manager createfile create file pathresolver path resolver getidentifier identifier path src webapp web inf tags menu item tagx getoutputstream output stream exception illegalstateexception illegal exception encountered error copying resources mvc menu addon filemanager file manager exists pathresolver path resolver getidentifier identifier path src webapp web inf tags menu category tagx filecopyutils file copy utils copy templateutils template utils gettemplate template getclass category tagx filemanager file manager createfile create file pathresolver path resolver getidentifier identifier path src webapp web inf tags menu category tagx getoutputstream output stream exception illegalstateexception illegal exception encountered error copying resources mvc menu addon file menufile menu file disk changed updated created writetodiskifnecessary write disk document proposed document original mutablefile mutable file write contents jspcontent jsp content file mutablefile mutable file mutablefile mutable file filemanager file manager exists menufile menu file original xmlutils xml utils getdocumentbuilder document builder parse getmenufile menu file exception illegalstateexception illegal exception parse file menufile menu file notnull original unable parse menufile menu file xmlroundtriputils xml trip utils comparedocuments compare documents original proposed mutablefile mutable file filemanager file manager updatefile update file menufile menu file original proposed mutablefile mutable file filemanager file manager createfile create file menufile menu file notnull mutablefile mutable file create jsp file menufile menu file mutablefile mutable file build representation jsp bytearrayoutputstream array output stream bytearrayoutputstream array output stream bytearrayoutputstream array output stream xmlutils xml utils writexml write xml xmlutils xml utils createindentingtransformer create indenting transformer bytearrayoutputstream array output stream original jspcontent jsp content bytearrayoutputstream array output stream tostring bytearrayoutputstream array output stream close write file file existing file contents filecopyutils file copy utils copy jspcontent jsp content outputstreamwriter output stream writer mutablefile mutable file getoutputstream output stream wrote file ioexception exception ioe illegalstateexception illegal exception output mutablefile mutable file getcanonicalpath canonical path ioe file existed contained content