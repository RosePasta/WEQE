springframework roo classpath javaparser details japa parser asthelper ast helper japa parser javaparser parser japa parser parseexception parse exception japa parser ast compilationunit compilation unit japa parser ast body bodydeclaration body declaration japa parser ast body fielddeclaration field declaration japa parser ast body typedeclaration type declaration japa parser ast body variabledeclarator variable declarator japa parser ast expr annotationexpr annotation expr japa parser ast expr expression japa parser ast expr nameexpr expr japa parser ast expr objectcreationexpr object creation expr japa parser ast type classorinterfacetype type japa parser ast type type bytearrayinputstream array input stream util arraylist array list util list util set commons lang lang stringutils utils commons lang lang validate springframework roo classpath details fieldmetadata field metadata springframework roo classpath details fieldmetadatabuilder field metadata builder springframework roo classpath details annotations annotationmetadata annotation metadata springframework roo classpath javaparser compilationunitservices compilation unit services springframework roo classpath javaparser javaparserutils parser utils springframework roo model builder springframework roo model javasymbolname symbol springframework roo model javatype type parser implementation link fieldmetadata field metadata author ben alex javaparserfieldmetadatabuilder parser field metadata builder builder fieldmetadata field metadata addfield add field compilationunitservices compilation unit services compilationunitservices compilation unit services list bodydeclaration body declaration members fieldmetadata field metadata field validate notnull compilationunitservices compilation unit services flushable compilation unit services required validate notnull members members required validate notnull field field required javaparserutils parser utils importtypeifrequired type required compilationunitservices compilation unit services getenclosingtypename enclosing type compilationunitservices compilation unit services getimports imports field getfieldtype field type type inittype init type javaparserutils parser utils getresolvedname resolved compilationunitservices compilation unit services getenclosingtypename enclosing type field getfieldtype field type compilationunitservices compilation unit services classorinterfacetype type finaltype type javaparserutils parser utils getclassorinterfacetype type inittype init type fielddeclaration field declaration newfield field asthelper ast helper createfielddeclaration create field declaration javaparserutils parser utils getjavaparsermodifier parser modifier field getmodifier modifier inittype init type field getfieldname field getsymbolname symbol add parameterized types field type initializer field getfieldtype field type getparameters parameters size list type fieldtypeargs field type arraylist array list type finaltype type settypeargs set type fieldtypeargs field type javatype type parameter field getfieldtype field type getparameters parameters fieldtypeargs field type add javaparserutils parser utils importparametersfortype parameters type compilationunitservices compilation unit services getenclosingtypename enclosing type compilationunitservices compilation unit services getimports imports parameter list variabledeclarator variable declarator vars newfield field getvariables variables validate notempty empty vars expected asthelper ast helper single variabledeclarator variable declarator validate istrue vars size expected asthelper ast helper single variabledeclarator variable declarator variabledeclarator variable declarator vars iterator stringutils utils isnotblank blank field getfieldinitializer field initializer initializer fake field javaparser parser parse easiest build simple source required field parse stringbuilder builder stringbuilder builder append temporaryclass temporary append field getfieldtype field type field getfieldname field field getfieldinitializer field initializer append bytearrayinputstream array input stream bais bytearrayinputstream array input stream tostring getbytes bytes compilationunit compilation unit javaparser parser parse bais parseexception parse exception illegalstateexception illegal exception illegal javaparser parser parse correctly list typedeclaration type declaration types gettypes types types types size illegalargumentexception illegal argument exception field member invalid typedeclaration type declaration types list bodydeclaration body declaration bodydeclarations body declarations getmembers members bodydeclarations body declarations bodydeclarations body declarations size illegalstateexception illegal exception illegal javaparser parser body declarations correctly bodydeclaration body declaration bodydeclarations body declarations fielddeclaration field declaration illegalstateexception illegal exception illegal javaparser parser field declaration correctly fielddeclaration field declaration fielddeclaration field declaration getvariables variables getvariables variables size illegalstateexception illegal exception illegal javaparser parser field declaration correctly expression init getvariables variables getinit init resolve imports roo init objectcreationexpr object creation expr objectcreationexpr object creation expr ocr objectcreationexpr object creation expr init javatype type typetoimport type javaparserutils parser utils getjavatypenow type compilationunitservices compilation unit services ocr gettype type nameexpr expr nameexpr expr javaparserutils parser utils importtypeifrequired type required compilationunitservices compilation unit services getenclosingtypename enclosing type compilationunitservices compilation unit services getimports imports typetoimport type classorinterfacetype type classorinterfacetype type javaparserutils parser utils getclassorinterfacetype type nameexpr expr ocr settype set type classorinterfacetype type typetoimport type getparameters parameters size list type inittypeargs init type arraylist array list type finaltype type settypeargs set type inittypeargs init type javatype type parameter typetoimport type getparameters parameters inittypeargs init type add javaparserutils parser utils importparametersfortype parameters type compilationunitservices compilation unit services getenclosingtypename enclosing type compilationunitservices compilation unit services getimports imports parameter classorinterfacetype type settypeargs set type inittypeargs init type setinit set init init add annotations list annotationexpr annotation expr annotations arraylist array list annotationexpr annotation expr newfield field setannotations set annotations annotations annotationmetadata annotation metadata annotation field getannotations annotations javaparserannotationmetadatabuilder parser annotation metadata builder addannotationtolist add annotation list compilationunitservices compilation unit services annotations annotation locate add field verify field exists nextfieldindex field bodydeclaration body declaration members fielddeclaration field declaration field current field nextfieldindex field fielddeclaration field declaration bdf fielddeclaration field declaration variabledeclarator variable declarator bdf getvariables variables validate istrue field getfieldname field getsymbolname symbol equals getid getname field field getfieldname field getsymbolname symbol exists add field compilation unit members add nextfieldindex field newfield field javaparserfieldmetadatabuilder parser field metadata builder getinstance instance declaredbymetadataid declared metadata fielddeclaration field declaration fielddeclaration field declaration variabledeclarator variable declarator compilationunitservices compilation unit services compilationunitservices compilation unit services set javasymbolname symbol typeparameters type parameters javaparserfieldmetadatabuilder parser field metadata builder declaredbymetadataid declared metadata fielddeclaration field declaration compilationunitservices compilation unit services typeparameters type parameters removefield remove field compilationunitservices compilation unit services compilationunitservices compilation unit services list bodydeclaration body declaration members javasymbolname symbol fieldname field validate notnull compilationunitservices compilation unit services flushable compilation unit services required validate notnull members members required validate notnull fieldname field field remove required locate field todelete delete bodydeclaration body declaration members fielddeclaration field declaration fielddeclaration field declaration fielddeclaration field declaration fielddeclaration field declaration variabledeclarator variable declarator fielddeclaration field declaration getvariables variables getid getname equals fieldname field getsymbolname symbol todelete delete validate istrue todelete delete locate field delete fieldname field removal iteration body declaration members avoid concurrent modification exceptions members remove todelete delete list annotationmetadata annotation metadata annotations arraylist array list annotationmetadata annotation metadata declaredbymetadataid declared metadata fieldinitializer field initializer javasymbolname symbol fieldname field javatype type fieldtype field type modifier javaparserfieldmetadatabuilder parser field metadata builder declaredbymetadataid declared metadata fielddeclaration field declaration fielddeclaration field declaration variabledeclarator variable declarator compilationunitservices compilation unit services compilationunitservices compilation unit services set javasymbolname symbol typeparameters type parameters validate notnull declaredbymetadataid declared metadata declared metadata required validate notnull fielddeclaration field declaration field declaration mandatory validate notnull variable declarator required validate istrue fielddeclaration field declaration getvariables variables request variable field declaration validate notnull compilationunitservices compilation unit services compilation unit services required convert parser modifier jdk modifier modifier javaparserutils parser utils getjdkmodifier jdk modifier fielddeclaration field declaration getmodifiers modifiers declaredbymetadataid declared metadata declaredbymetadataid declared metadata type type fielddeclaration field declaration gettype type fieldtype field type javaparserutils parser utils getjavatype type compilationunitservices compilation unit services type typeparameters type parameters convert array variable array notation getid getarraycount array count fieldtype field type javatype type fieldtype field type getfullyqualifiedtypename fully qualified type getid getarraycount array count fieldtype field type getarray array fieldtype field type getdatatype data type fieldtype field type getargname arg fieldtype field type getparameters parameters fieldname field javasymbolname symbol getid getname lookup initializer requested easily determinable expression getinit init fieldinitializer field initializer tostring list annotationexpr annotation expr annotations fielddeclaration field declaration getannotations annotations annotations annotationexpr annotation expr annotation annotations annotations add javaparserannotationmetadatabuilder parser annotation metadata builder getinstance instance annotation compilationunitservices compilation unit services build fieldmetadata field metadata build fieldmetadatabuilder field metadata builder fieldmetadatabuilder field metadata builder fieldmetadatabuilder field metadata builder declaredbymetadataid declared metadata fieldmetadatabuilder field metadata builder setannotations set annotations annotations fieldmetadatabuilder field metadata builder setfieldinitializer set field initializer fieldinitializer field initializer fieldmetadatabuilder field metadata builder setfieldname set field fieldname field fieldmetadatabuilder field metadata builder setfieldtype set field type fieldtype field type fieldmetadatabuilder field metadata builder setmodifier set modifier modifier fieldmetadatabuilder field metadata builder build