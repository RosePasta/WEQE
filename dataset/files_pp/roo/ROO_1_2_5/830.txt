springframework roo file undo util hashset hash set util set util stack commons lang lang validate felix scr annotations component felix scr annotations service osgi service component componentcontext component context springframework roo file undo undoevent undo event undooperation undo operation implementation link undomanager undo manager author ben alex component service defaultundomanager undo manager undomanager undo manager set undolistener undo listener listeners hashset hash set undolistener undo listener stack undoableoperation undoable operation stack stack undoableoperation undoable operation undoenabled undo enabled activate componentcontext component context context add undoableoperation undoable operation undoableoperation undoable operation validate notnull undoableoperation undoable operation undoable operation required stack push undoableoperation undoable operation addundolistener add undo listener undolistener undo listener undolistener undo listener listeners add undolistener undo listener flush notifylisteners notify listeners undooperation undo operation flush notifylisteners notify listeners undooperation undo operation operation undolistener undo listener listener listeners listener onundoevent undo event undoevent undo event operation removeundolistener remove undo listener undolistener undo listener undolistener undo listener listeners remove undolistener undo listener reset stack empty undoableoperation undoable operation stack pop reset throwable illegalstateexception illegal exception undoableoperation undoable operation threw exception violation contract notifylisteners notify listeners undooperation undo operation reset setundoenabled set undo enabled undoenabled undo enabled undoenabled undo enabled undoenabled undo enabled undo undomode undo mode undoenabled undo enabled force undo stack simply reset perform undos undomode undo mode stack empty undoableoperation undoable operation stack pop undomode undo mode undo undo failed reset mode undomode undo mode reset mode reset throwable illegalstateexception illegal exception undoableoperation undoable operation threw exception violation contract notifylisteners notify listeners undooperation undo operation undo undomode undo mode