springframework roo classpath file util arraylist array list util arrays util collection util collections util comparator util hashmap hash map util hashset hash set util linkedhashmap linked hash map util linkedhashset linked hash set util list util map util map entry util set commons lang lang stringutils utils commons lang lang validate felix scr annotations component felix scr annotations reference felix scr annotations service springframework roo classpath details classorinterfacetypedetails type details springframework roo classpath details memberholdingtypedetails member holding type details springframework roo classpath details annotations annotationmetadata annotation metadata springframework roo file monitor filemonitorservice file monitor service springframework roo file monitor event filedetails file details springframework roo metadata metadataidentificationutils metadata identification utils springframework roo metadata metadataservice metadata service springframework roo model javapackage springframework roo model javasymbolname symbol springframework roo model javatype type springframework roo process manager filemanager file manager springframework roo project logicalpath logical path springframework roo project physicalpath physical path springframework roo project projectoperations project operations springframework roo project maven pom springframework roo shell naturalordercomparator natural order comparator springframework roo support util fileutils file utils implementation link typelocationservice type location service performance reasons automatically caches queries cache invalidated file system author alan stewart author ben alex author stefan schmidt author james tyrrell component service typelocationserviceimpl type location service impl typelocationservice type location service comparator length comparator comparator compare key key key key integer valueof key key length compareto compare key key length files ant path file separatorchar separator returns packages leading foo bar returns foo foo bar leafpackage leaf fully qualified parse required code code iterable set getallpackages packages leafpackage leaf set discoveredpackages discovered packages hashset hash set typesegments type segments leafpackage leaf split stringbuilder builder stringbuilder builder typesegments type segments length typesegment type segment typesegments type segments append append typesegment type segment discoveredpackages discovered packages add tostring discoveredpackages discovered packages returns lowest level number types typecount type count number types typesbypackage types maps names type names type parent packages required code code number types getlowestcommonpackage lowest common typecount type count map collection typesbypackage types map collection typesbysortedpackage types sorted sortbykeylength sort key length typesbypackage types longestpackage longest toplevelpackage top level entry collection entry typesbysortedpackage types sorted entryset entry set thispackage entry getkey key collection typesinpackage types entry getvalue typesinpackage types size typecount type count thispackage length longestpackage longest longestpackage longest thispackage length toplevelpackage top level thispackage toplevelpackage top level getpackagefromtype type typename type typename type substring typename type lastindexof sorts keyed map length type map map values maptosort map sort map sort changed sorted version map map sortbykeylength sort key length map maptosort map sort list arraylist array list maptosort map sort keyset key set collections sort length comparator map sortedmap sorted map linkedhashmap linked hash map key sortedmap sorted map key maptosort map sort key sortedmap sorted map reference filemanager file manager filemanager file manager reference filemonitorservice file monitor service filemonitorservice file monitor service reference metadataservice metadata service metadataservice metadata service reference projectoperations project operations projectoperations project operations reference typecache type cache typecache type cache reference typeresolutionservice type resolution service typeresolutionservice type resolution service map javatype type set annotationtomidmap annotation mid map hashmap hash map javatype type set map set changemap change map hashmap hash map set set dirtyfiles dirty files hashset hash set set discoveredtypes discovered types hashset hash set map set object typecustomdatamap type custom data map hashmap hash map set object map object set tagtomidmap tag mid map hashmap hash map object set map set javatype type typeannotationmap type annotation map hashmap hash map set javatype type cachetype cache type filecanonicalpath file canonical path validate notblank blank filecanonicalpath file canonical path file canonical path required doespathindicatejavatype path type filecanonicalpath file canonical path getphysicaltypeidentifier physical type identifier filecanonicalpath file canonical path physicaltypeidentifier physical type identifier isvalid valid change drop cache classorinterfacetypedetails type details cid lookupclassorinterfacetypedetails lookup type details cid filemanager file manager exists filecanonicalpath file canonical path typecache type cache removetype remove type javatype type type typecache type cache gettypedetails type details getname updatechanges update type getfullyqualifiedtypename fully qualified type typecache type cache cachetype cache type filecanonicalpath file canonical path cid updateattributecache update attribute cache cid updatechanges update cid getname getfullyqualifiedtypename fully qualified type set discovertypes discover types retrieve list paths discovered modified invocation change filemonitorservice file monitor service getdirtyfiles dirty files typelocationserviceimpl type location service impl getname doespathindicatejavatype path type change discoveredtypes discovered types add change dirtyfiles dirty files add change discoveredtypes discovered types doespathindicatejavatype path type filecanonicalpath file canonical path validate notblank blank filecanonicalpath file canonical path file canonical path required filecanonicalpath file canonical path endswith ends filecanonicalpath file canonical path endswith ends info javasymbolname symbol islegaljavaname legal getproposedjavatype proposed type filecanonicalpath file canonical path set classorinterfacetypedetails type details findclassesorinterfacedetailswithannotation find classes details annotation javatype type annotationstodetect annotations detect list classorinterfacetypedetails type details types arraylist array list classorinterfacetypedetails type details processtypeswithannotation process types annotation arrays aslist list annotationstodetect annotations detect locatedtypecallback located type callback process classorinterfacetypedetails type details located located types add located collections sort types naturalordercomparator natural order comparator classorinterfacetypedetails type details override stringify classorinterfacetypedetails type details object object getname getsimpletypename simple type collections unmodifiableset unmodifiable set linkedhashset linked hash set classorinterfacetypedetails type details types set classorinterfacetypedetails type details findclassesorinterfacedetailswithtag find classes details tag object tag validate notnull tag tag required set classorinterfacetypedetails type details types linkedhashset linked hash set classorinterfacetypedetails type details processtypeswithtag process types tag tag locatedtypecallback located type callback process classorinterfacetypedetails type details located located types add located collections unmodifiableset unmodifiable set types set javatype type findtypeswithannotation find types annotation javatype type annotationstodetect annotations detect findtypeswithannotation find types annotation arrays aslist list annotationstodetect annotations detect set javatype type findtypeswithannotation find types annotation list javatype type annotationstodetect annotations detect validate notnull annotationstodetect annotations detect annotations detect required set javatype type types linkedhashset linked hash set javatype type processtypeswithannotation process types annotation annotationstodetect annotations detect locatedtypecallback located type callback process classorinterfacetypedetails type details located located types add located getname collections unmodifiableset unmodifiable set types getparentpath parent path javatype type javatype type relativepath relative path javatype type getrelativefilename relative file typepath type path discovertypes discover types typepath type path endswith ends relativepath relative path stringutils utils removeend remove typepath type path relativepath relative path physicalpath physical path getphysicalpath physical path javatype type javatype type validate notnull javatype type type required parentpath parent path getparentpath parent path javatype type parentpath parent path pom pom projectoperations project operations getpoms poms physicalpath physical path physicalpath physical path pom getphysicalpaths physical paths physicalpath physical path issource source pathlocation path location fileutils file utils ensuretrailingseparator ensure trailing separator physicalpath physical path getlocationpath location path pathlocation path location startswith starts parentpath parent path typecache type cache cachetypeagainstmodule cache type module pom javatype type physicalpath physical path getphysicaltypecanonicalpath physical type canonical path javatype type javatype type logicalpath logical path path getphysicaltypecanonicalpath physical type canonical path physicaltypeidentifier physical type identifier createidentifier create identifier javatype type path getphysicaltypecanonicalpath physical type canonical path physicaltypeid physical type logicalpath logical path logicalpath logical path physicaltypeidentifier physical type identifier getpath path physicaltypeid physical type javatype type javatype type physicaltypeidentifier physical type identifier getjavatype type physicaltypeid physical type pom pom projectoperations project operations getpomfrommodulename pom module logicalpath logical path getmodule module canonicalfilepath canonical file path pom getpathlocation path location logicalpath logical path getpath path javatype type getrelativefilename relative file filemanager file manager exists canonicalfilepath canonical file path typecache type cache cachetypeagainstmodule cache type module pom javatype type typecache type cache cachefilepathagainsttypeidentifier cache file path type identifier canonicalfilepath canonical file path physicaltypeid physical type canonicalfilepath canonical file path getphysicaltypeidentifier physical type identifier javatype type type physicalpath physical path containingphysicalpath physical path getphysicalpath physical path type containingphysicalpath physical path logicalpath logical path logicalpath logical path containingphysicalpath physical path getlogicalpath logical path physicaltypeidentifier physical type identifier createidentifier create identifier type logicalpath logical path getphysicaltypeidentifier physical type identifier filecanonicalpath file canonical path validate notblank blank filecanonicalpath file canonical path file canonical path required doespathindicatejavatype path type filecanonicalpath file canonical path physicaltypeidentifier physical type identifier typecache type cache gettypeidfromtypefilepath type type file path filecanonicalpath file canonical path physicaltypeidentifier physical type identifier physicaltypeidentifier physical type identifier typedirectory type directory fileutils file utils getfirstdirectory directory filecanonicalpath file canonical path simpletypename simple type stringutils utils replace filecanonicalpath file canonical path typedirectory type directory file separator replace javapackage javapackage typeresolutionservice type resolution service getpackage filecanonicalpath file canonical path javapackage javatype type javatype type javatype type javapackage getfullyqualifiedpackagename fully qualified simpletypename simple type pom module projectoperations project operations getmoduleforfileidentifier module file identifier filecanonicalpath file canonical path validate notnull module module file filecanonicalpath file canonical path located typecache type cache cachetypeagainstmodule cache type module module javatype type reducedpath reduced path filecanonicalpath file canonical path replace javatype type getrelativefilename relative file reducedpath reduced path stringutils utils stripend strip reducedpath reduced path file separator physicalpath physical path physicalpath physical path module getphysicalpaths physical paths physicalpath physical path getlocationpath location path startswith starts reducedpath reduced path logicalpath logical path path physicalpath physical path getlogicalpath logical path physicaltypeidentifier physical type identifier metadataidentificationutils metadata identification utils create physicaltypeidentifier physical type identifier getname path getname javatype type getfullyqualifiedtypename fully qualified type typecache type cache cachefilepathagainsttypeidentifier cache file path type identifier filecanonicalpath file canonical path physicaltypeidentifier physical type identifier physicaltypeidentifier physical type identifier list getpotentialtoplevelpackagesformodule potential top level packages module pom module validate notnull module module required map set packagemap map hashmap hash map set set moduletypes module types gettypesformodule types module module getpath path list toplevelpackages top level packages arraylist array list moduletypes module types isempty empty toplevelpackages top level packages add module getgroupid group toplevelpackages top level packages typename type moduletypes module types stringbuilder builder stringbuilder builder type getpackagefromtype type typename type typesegments type segments type split set discoveredpackages discovered packages hashset hash set typesegments type segments length typesegment type segment typesegments type segments append append typesegment type segment discoveredpackages discovered packages add tostring discoveredpackage discovered discoveredpackages discovered packages packagemap map containskey key discoveredpackage discovered packagemap map discoveredpackage discovered hashset hash set packagemap map discoveredpackage discovered add typename type longestpackage longest map entry set entry packagemap map entryset entry set entry getvalue size moduletypes module types size toplevelpackages top level packages add entry getkey key entry getkey key length longestpackage longest longestpackage longest entry getkey key length toplevelpackages top level packages getproposedjavatype proposed type filecanonicalpath file canonical path validate notblank blank filecanonicalpath file canonical path file canonical path required determine javatype type file relativepath relative path pom moduleforfileidentifier module file identifier projectoperations project operations getmoduleforfileidentifier module file identifier filecanonicalpath file canonical path moduleforfileidentifier module file identifier relativepath relative path physicalpath physical path physicalpath physical path moduleforfileidentifier module file identifier getphysicalpaths physical paths modulecanonicalpath module canonical path fileutils file utils ensuretrailingseparator ensure trailing separator fileutils file utils getcanonicalpath canonical path physicalpath physical path getlocation location filecanonicalpath file canonical path startswith starts modulecanonicalpath module canonical path relativepath relative path file separator stringutils utils replace filecanonicalpath file canonical path modulecanonicalpath module canonical path validate notblank blank relativepath relative path determine compilation unit file filecanonicalpath file canonical path validate istrue relativepath relative path startswith starts file separator relative path unexpectedly dropped prefix received file separator relativepath relative path filecanonicalpath file canonical path relativepath relative path relativepath relative path substring validate istrue relativepath relative path endswith ends relative path unexpectedly dropped extension file filecanonicalpath file canonical path relativepath relative path relativepath relative path substring relativepath relative path lastindexof relativepath relative path replace file separatorchar separator gettoplevelpackageformodule top level module pom module module getgroupid group builds map module module packages types there types foo bar foo baz map foo bar foo baz foo foo bar foo baz foo bar foo bar foo baz foo baz packages type set typesinmodule types module types module question typepackages type packages set add type type code code map laid suppresswarnings suppress warnings unused map collection gettypesbypackage types iterable typesinmodule types module set typepackages type packages map collection typesbypackage types hashmap hash map collection typename type typesinmodule types module typepackage type getpackagefromtype type typename type typepackages type packages add typepackage type discoveredpackage discovered getallpackages packages typepackage type typesbypackage types discoveredpackage discovered typesbypackage types discoveredpackage discovered hashset hash set typesbypackage types discoveredpackage discovered add typename type typesbypackage types classorinterfacetypedetails type details gettypedetails type details javatype type type gettypedetails type details getphysicaltypeidentifier physical type identifier type classorinterfacetypedetails type details gettypedetails type details physicaltypeid physical type stringutils utils isblank blank physicaltypeid physical type validate istrue physicaltypeidentifier physical type identifier isvalid valid physicaltypeid physical type metadata valid physical type physicaltypeid physical type updatetypecache update type cache classorinterfacetypedetails type details cacheddetails cached details typecache type cache gettypedetails type details physicaltypeid physical type cacheddetails cached details cacheddetails cached details physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata metadataservice metadata service physicaltypeid physical type physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata getmemberholdingtypedetails member holding type details logicalpath logical path gettypepath type path javatype type javatype type physicaltypeid physical type getphysicaltypeidentifier physical type identifier javatype type stringutils utils isblank blank physicaltypeid physical type physicaltypeidentifier physical type identifier getpath path physicaltypeid physical type collection javatype type gettypesformodule types module pom module pom equals module getpackaging packaging collections emptyset empty set set typenames type names gettypesformodule types module module getpath path collection javatype type javatypes types arraylist array list javatype type typename type typenames type names javatypes types add javatype type typename type javatypes types set gettypesformodule types module modulepath module path validate notnull modulepath module path module path required typecache type cache gettypenamesformodulefilepath type names module file path modulepath module path hastypechanged type changed requestingclass requesting javatype type javatype type validate notnull requestingclass requesting requesting required validate notnull javatype type type required updatetypecache update type cache set changessincelastrequest request changemap change map requestingclass requesting changessincelastrequest request changessincelastrequest request linkedhashset linked hash set typeidentifier type identifier typecache type cache getalltypeidentifiers type identifiers changessincelastrequest request add typecache type cache gettypedetails type details typeidentifier type identifier getname getfullyqualifiedtypename fully qualified type changemap change map requestingclass requesting changessincelastrequest request changedid changed changessincelastrequest request changedid changed equals javatype type getfullyqualifiedtypename fully qualified type changessincelastrequest request remove changedid changed inittypemap init type map pom pom projectoperations project operations getpoms poms physicalpath physical path path pom getphysicalpaths physical paths path issource source alljavafiles files fileutils file utils ensuretrailingseparator ensure trailing separator path getlocationpath location path files ant path filedetails file details file filemanager file manager findmatchingantpath find matching ant path alljavafiles files cachetype cache type file getcanonicalpath canonical path isinproject project javatype type javatype type javatype type javatype type iscoretype core type getphysicalpath physical path javatype type obtains fresh copy link classorinterfacetypedetails type details physical type physicaltypeidentifier physical type identifier lookup required requested details code code unavailable classorinterfacetypedetails type details lookupclassorinterfacetypedetails lookup type details physicaltypeidentifier physical type identifier physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata metadataservice metadata service evictandget evict physicaltypeidentifier physical type identifier physicaltypemetadata physical type metadata physicaltypemetadata physical type metadata getmemberholdingtypedetails member holding type details processtypeswithannotation process types annotation list javatype type annotationstodetect annotations detect locatedtypecallback located type callback callback validate notnull annotationstodetect annotations detect annotations detect required validate notnull callback callback required cache doesn annotation javatype type annotationtype annotation type annotationstodetect annotations detect annotationtomidmap annotation mid map containskey key annotationtype annotation type annotationtomidmap annotation mid map annotationtype annotation type hashset hash set processing call project processed cache updated updatetypecache update type cache javatype type annotationtype annotation type annotationstodetect annotations detect locatedmid located mid annotationtomidmap annotation mid map annotationtype annotation type classorinterfacetypedetails type details located typecache type cache gettypedetails type details locatedmid located mid callback process located processtypeswithtag process types tag object tag locatedtypecallback located type callback callback validate notnull tag tag required validate notnull callback callback required cache doesn tag tagtomidmap tag mid map containskey key tag tagtomidmap tag mid map tag hashset hash set processing call project processed cache updated updatetypecache update type cache locatedmid located mid tagtomidmap tag mid map tag classorinterfacetypedetails type details located typecache type cache gettypedetails type details locatedmid located mid callback process located updateattributecache update attribute cache memberholdingtypedetails member holding type details cid validate notnull cid member holding type details required typeannotationmap type annotation map containskey key cid getdeclaredbymetadataid declared metadata typeannotationmap type annotation map cid getdeclaredbymetadataid declared metadata hashset hash set javatype type typecustomdatamap type custom data map containskey key cid getdeclaredbymetadataid declared metadata typecustomdatamap type custom data map cid getdeclaredbymetadataid declared metadata hashset hash set object set javatype type previousannotations previous annotations typeannotationmap type annotation map cid getdeclaredbymetadataid declared metadata javatype type previousannotation previous annotation previousannotations previous annotations set midset mid set annotationtomidmap annotation mid map previousannotation previous annotation midset mid set midset mid set remove cid getdeclaredbymetadataid declared metadata previousannotations previous annotations clear annotationmetadata annotation metadata annotationmetadata annotation metadata cid getannotations annotations annotationtomidmap annotation mid map containskey key annotationmetadata annotation metadata getannotationtype annotation type annotationtomidmap annotation mid map annotationmetadata annotation metadata getannotationtype annotation type hashset hash set previousannotations previous annotations add annotationmetadata annotation metadata getannotationtype annotation type annotationtomidmap annotation mid map annotationmetadata annotation metadata getannotationtype annotation type add cid getdeclaredbymetadataid declared metadata set object previouscustomdataset previous custom data set typecustomdatamap type custom data map cid getdeclaredbymetadataid declared metadata object previouscustomdata previous custom data previouscustomdataset previous custom data set set midset mid set tagtomidmap tag mid map previouscustomdata previous custom data midset mid set midset mid set remove cid getdeclaredbymetadataid declared metadata previouscustomdataset previous custom data set clear object customdata custom data cid getcustomdata custom data keyset key set tagtomidmap tag mid map containskey key customdata custom data tagtomidmap tag mid map customdata custom data hashset hash set previouscustomdataset previous custom data set add customdata custom data tagtomidmap tag mid map customdata custom data add cid getdeclaredbymetadataid declared metadata updatechanges update typename type remove validate notnull typename type type required requestingclass requesting changemap change map keyset key set remove changemap change map requestingclass requesting remove typename type changemap change map requestingclass requesting add typename type updatetypecache update type cache typecache type cache getalltypeidentifiers type identifiers isempty empty inittypemap init type map discovertypes discover types update type cache change dirtyfiles dirty files cachetype cache type change dirtyfiles dirty files clear