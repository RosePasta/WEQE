springframework roo project file ioexcept except inputstream input stream util collect util log logger common ioutil util common lang lang objectutil object util common lang lang valid felix scr annot compon felix scr annot refer felix scr annot servic springframework roo model javapackag springframework roo process manag activeprocessmanag activ process manag springframework roo process manag processmanag process manag springframework roo project packag packagingprovid packag provid springframework roo project packag packagingproviderregistri packag provid registri springframework roo support log handlerutil handler util springframework roo support util domutil dom util springframework roo support util xmlutil xml util dom document dom element implement link mavenoper maven oper author ben alex author alan stewart compon servic mavenoperationsimpl maven oper impl abstractprojectoper project oper mavenoper maven oper logginginputstream log input stream thread inputstream input stream inputstream input stream processmanag process manag processmanag process manag constructor inputstream input stream processmanag process manag logginginputstream log input stream inputstream input stream inputstream input stream processmanag process manag processmanag process manag inputstream input stream inputstream input stream processmanag process manag processmanag process manag overrid activeprocessmanag activ process manag setactiveprocessmanag set activ process manag processmanag process manag ioutil util readlin read line inputstream input stream startswith start error logger sever startswith start warn logger warn logger info ioexcept except condit nix mac condit window getmessag messag file directori getmessag messag createprocess creat process error logger sever locat maven execut ensur mvn command path ioutil util closequietli close quietli inputstream input stream activeprocessmanag activ process manag clearactiveprocessmanag clear activ process manag logger logger handlerutil handler util getlogg logger mavenoperationsimpl maven oper impl refer packagingproviderregistri packag provid registri packagingproviderregistri packag provid registri refer processmanag process manag processmanag process manag addmoduledeclar add modul declar modulenam modul document pomdocu pom document element root element modulesel modul element createmoduleselementifnecessari creat modul element pomdocu pom document root ismodulealreadypres modul modulenam modul modulesel modul element modulesel modul element appendchild append child xmlutil xml util createtextel creat text element pomdocu pom document modul modulenam modul createmodul creat modul javapackag toplevelpackag top level gav parentpom parent pom modulenam modul packagingprovid packag provid selectedpackagingprovid select packag provid integ majorjavavers major version valid istru iscreatemoduleavail creat modul creat modul time packagingprovid packag provid packagingprovid packag provid getpackagingprovid packag provid selectedpackagingprovid select packag provid pathtonewpom path pom packagingprovid packag provid createartifact creat artifact toplevelpackag top level getjavavers version majorjavavers major version parentpom parent pom modulenam modul updateparentmodulepom updat parent modul pom modulenam modul setmodul set modul pommanagementservic pom manag servic getpomfrompath pom path pathtonewpom path pom element createmoduleselementifnecessari creat modul element document pomdocu pom document element root element modulesel modul element xmlutil xml util findfirstel find element project modul root modulesel modul element modulesel modul element pomdocu pom document createel creat element modul element repositori xmlutil xml util findfirstel find element project repositori root root insertbefor insert modulesel modul element repositori modulesel modul element createproject creat project javapackag toplevelpackag top level projectnam project integ majorjavavers major version gav parentpom parent pom packagingprovid packag provid selectedpackagingprovid select packag provid valid istru iscreateprojectavail creat project project creation unavail time packagingprovid packag provid packagingprovid packag provid getpackagingprovid packag provid selectedpackagingprovid select packag provid packagingprovid packag provid createartifact creat artifact toplevelpackag top level projectnam project getjavavers version majorjavavers major version parentpom parent pom executemvncommand execut mvn command extra ioexcept except file root file getprojectroot project root valid istru root isdirectori directori root exist project root exist directori root getcanonicalpath canon path cmd file separatorchar separ mvn bat mvn extra process runtim getruntim runtim exec cmd root ensur separ thread log roo logginginputstream log input stream input logginginputstream log input stream getinputstream input stream processmanag process manag logginginputstream log input stream error logginginputstream log input stream geterrorstream error stream processmanag process manag close outputstream output stream avoid block maven command expect input roo ioutil util closequietli close quietli getoutputstream output stream input start error start waitfor wait logger warn command cmd complet interruptedexcept interrupt except illegalstateexcept illeg except return project project target version pom format majorjavavers major version major version user code code auto detect blank getjavavers version integ majorjavavers major version majorjavavers major version majorjavavers major version majorjavavers major version valueof majorjavavers major version valid version detect major version ver system getproperti properti version ver workaround roo ver run roo packagingprovid packag provid getpackagingprovid packag provid packagingprovid packag provid selectedpackagingprovid select packag provid objectutil object util defaultifnul selectedpackagingprovid select packag provid packagingproviderregistri packag provid registri getdefaultpackagingprovid packag provid getprojectroot project root pathresolv path resolv getroot root path root getmodulepathid modul path pommanagementservic pom manag servic getfocusedmodulenam focus modul iscreatemoduleavail creat modul iscreateprojectavail creat project isprojectavail project getfocusedmodulenam focus modul ismodulealreadypres modul modulenam modul element modulesel modul element element element xmlutil xml util findel find element modul modulesel modul element element gettextcont text content trim equal modulenam modul updateparentmodulepom updat parent modul pom modulenam modul parentpompath parent pom path pommanagementservic pom manag servic getfocusedmodul focus modul getpath path document parentpomdocu parent pom document xmlutil xml util readxml read xml filemanag file manag getinputstream input stream parentpompath parent pom path element parentpomroot parent pom root parentpomdocu parent pom document getdocumentel document element domutil dom util createchildifnotexist creat child exist packag parentpomroot parent pom root parentpomdocu parent pom document settextcont set text content pom addmoduledeclar add modul declar modulenam modul parentpomdocu parent pom document parentpomroot parent pom root addmodulemessag add modul messag getdescriptionofchang descript chang collect singleton modulenam modul modul modul filemanag file manag createorupdatetextfileifrequir creat updat text file requir getfocusedmodul focus modul getpath path xmlutil xml util nodetostr node parentpomdocu parent pom document addmodulemessag add modul messag 