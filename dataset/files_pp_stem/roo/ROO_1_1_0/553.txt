springframework roo shell bufferedread buffer reader file fileinputstream file input stream filenotfoundexcept file except ioexcept except inputstream input stream inputstreamread input stream reader net url text dateformat format util util properti util set util sortedset sort set util treeset tree set util jar jarfil jar file util jar manifest util log level util log logger util zip zipentri zip entri springframework roo shell event abstractshellstatuspublish shell statu publish springframework roo shell event shellstatu shell statu springframework roo shell event shellstatu shell statu statu springframework roo support log handlerutil handler util springframework roo support util base link shell implement author ben alex abstractshel shell abstractshellstatuspublish shell statu publish shell slot abstractshel shell getnam logger logger handlerutil handler util getlogg logger getclass inblockcom block comment exitshellrequest exit shell request exitshellrequest exit shell request shellprompt shell prompt roo completionkei complet tab set url findurl find url resourcenam resourc gethomeasstr executionstrategi execut strategi getexecutionstrategi execut strategi parser getpars parser clicommand cli command script pars resourc file execut command script clioption cli option kei file file locat execut mandatori file resourc clioption cli option kei linenumb number mandatori specifieddefaultvalu unspecifieddefaultvalu unspecifi displai number execut script linenumb number notnul resourc resourc parser requir start gettim time inputstream input stream inputstream input stream inputstream input stream fileinputstream file input stream resourc filenotfoundexcept file except trytheclassloaderinstead loader inputstream input stream find resourc classload set url url findurl find url resourc getnam handl search system failur notnul url unabl process classpath bundl locat script handl file simpli search notempti empti url resourc resourc disk classpath istru url size resourc classpath unabl inputstream input stream url iter openstream open stream ioexcept except illegalstateexcept illeg except bufferedread buffer reader bufferedread buffer reader inputstreamread input stream reader inputstream input stream readlin read linenumb number logger fine logger fine equal trim success executescriptlin execut script success abort script process wrong illegalstateexcept illeg except script execut abort close ioexcept except illegalstateexcept illeg except logger fine script requir gettim time start execut execut singl script overridden class pre process script line executescriptlin execut script executecommand execut command executecommand execut command command attempt setshellstatu set shell statu shellstatu shell statu statu pars executionstrategi execut strategi executionstrategi execut strategi getexecutionstrategi execut strategi flashedmessag flash messag executionstrategi execut strategi executionstrategi execut strategi isreadyforcommand readi command wait thread sleep interruptedexcept interrupt except ignor flashedmessag flash messag flash level info wait load slot flashedmessag flash messag flashedmessag flash messag flash level info slot support simpl block comment singl pair inblockcom block comment blockcommentbegin block comment lh substr lastindexof lh substr lastindexof blockcommentfinish block comment finish lh inblockcom block comment blockcommentfinish block comment finish substr lastindexof support inlin comment start valid command option http helloworld fail roo inblockcom block comment trim startswith start trim startswith start support roo convert tab charact whitespac roo replac equal trim setshellstatu set shell statu statu execut success parseresult pars result parseresult pars result getpars parser pars parseresult pars result setshellstatu set shell statu statu execut object result executionstrategi execut strategi execut parseresult pars result setshellstatu set shell statu statu execut result process result result exitshellrequest exit shell request exitshellrequest exit shell request exitshellrequest exit shell request result result iter object iter result logger info tostr logger info result tostr logcommandifrequir log command requir setshellstatu set shell statu statu execut success runtimeexcept runtim except setshellstatu set shell statu statu execut result process reli execut strategi log throwabl root exceptionutil except util extractrootcaus extract root logger log level fine root getmessag messag logcommandifrequir log command requir except ignoreit ignor setshellstatu set shell statu statu execut fail subclass log execut form command invok command complet command return return except note attempt command form miss mandatori argument present command execut attempt case invok attempt execut command implement special handl script command indic command success implement behav consist link abstractshel shell subclass encourag simpli overrid link logcommandtooutput log command output overrid fine tune output logic pars comment remov success command success logcommandifrequir log command requir success startswith start script logcommandtooutput log command output success fail logcommandtooutput log command output success fail subclass write log command form output free subclass need implement logic link logcommandifrequir log command requir implement invok link getexitshellrequest exit shell request monitor attempt exit shell releas resourc output log file processedlin process append type output exclud charact logcommandtooutput log command output processedlin process logger sever processedlin process base implement link shell setpromptpath set prompt path design simpl shell implement advanc implement support ansi code overrid set link shellprompt shell prompt variabl path set empti format special ansi code setpromptpath set prompt path path equal path path shellprompt shell prompt roo shellprompt shell prompt path roo exitshellrequest exit shell request getexitshellrequest exit shell request exitshellrequest exit shell request clicommand cli command inlin comment marker start inlinecom inlin comment clicommand cli command start block comment blockcommentbegin block comment istru inblockcom block comment open block comment activ inblockcom block comment clicommand cli command block comment blockcommentfinish block comment finish istru inblockcom block comment close block comment open inblockcom block comment clicommand cli command system properti shell shell properti prop properti properti system getproperti properti sortedset sort set data treeset tree set object properti properti keyset kei set object properti properti data add properti stringbuild builder stringbuild builder data append append system getproperti properti separ tostr clicommand cli command displai local time dateformat format getdatetimeinst time instanc dateformat format full dateformat format full format clicommand cli command flash test test messag flash flashcustom flash custom except flash level fine thread sleep flash level fine thread sleep flash level fine small thread sleep flash level fine download xyz thread sleep flash level fine thread sleep flash level fine download xyz thread sleep flash level fine system onlin thread sleep flash level fine system readi thread sleep flash level fine system farewel thread sleep flash level fine thread sleep flash level fine clicommand cli command version displai shell version version clioption cli option kei special version flag extra stringbuild builder stringbuild builder jaim equal extra append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append load roo append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append roo append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append append versioninfo version info append system getproperti properti separ tostr append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append append versioninfo version info append system getproperti properti separ append system getproperti properti separ tostr versioninfo version info determin bundl version bundlevers bundl version gitcommithash git commit hash jarfil jar file jarfil jar file url classcontain contain abstractshel shell getprotectiondomain protect domain getcodesourc code sourc getloc locat classcontain contain tostr endswith end jar attempt bundl version version manifest jarfil jar file jarfil jar file file classcontain contain touri uri zipentri zip entri manifestentri manifest entri jarfil jar file getentri entri meta inf manifest manifest manifest manifest jarfil jar file getinputstream input stream manifestentri manifest entri bundlevers bundl version manifest getmainattribut attribut getvalu bundl version gitcommithash git commit hash manifest getmainattribut attribut getvalu git commit hash except ignoreandmoveon ignor move jarfil jar file jarfil jar file close ioexcept except stringbuild builder stringbuild builder bundlevers bundl version append bundlevers bundl version gitcommithash git commit hash gitcommithash git commit hash length length append separ version append rev append gitcommithash git commit hash substr append length append unknown version tostr getshellprompt shell prompt shellprompt shell prompt obtain directori current shell instanc note call link gethomeasstr subclass provid directori locat environ specif strategi path link gethomeasstr exist refer directori directori return path link gethomeasstr exist refer file except thrown path link gethomeasstr exist creat directori fail except thrown directori current shell instanc guarante exist directori file gethom roohom roo gethomeasstr file file roohom roo istru exist exist isdirectori directori path getabsolutepath absolut path directori exist exist mkdir istru exist isdirectori directori path getabsolutepath absolut path directori roo system properti correctli simpl implement link flash level simpli displai messag logger recommend shell implement overrid effect approach flash level level messag slot notnul level level requir flash messag notnul messag messag requir flash messag hastext text slot slot flash messag equal messag logger log level messag 