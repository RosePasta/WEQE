springframework roo addon dbre bytearrayoutputstream arrai output stream fileinputstream file input stream inputstream input stream outputstream output stream sql connect sql databasemetadata databas meta data sql sqlexcept sql except util collect util hashmap hash map util hashset hash set util list util map util properti util set javax xml parser documentbuild document builder felix scr annot compon felix scr annot refer felix scr annot referencecardin refer cardin felix scr annot referencepolici refer polici felix scr annot referencestrategi refer strategi felix scr annot servic osgi servic compon componentcontext compon context springframework roo addon dbre jdbc connectionprovid connect provid springframework roo addon dbre model databas springframework roo addon dbre model databaseintrospector databas introspector springframework roo addon dbre model databasexmlutil databas xml util springframework roo addon dbre model schema springframework roo addon dbre model schemaintrospector schema introspector springframework roo addon propfil propfileoper prop file oper springframework roo file monitor event filedetail file detail springframework roo model javapackag springframework roo process manag filemanag file manag springframework roo process manag event processmanagerstatu process manag statu springframework roo process manag event processmanagerstatuslisten process manag statu listen springframework roo process manag event processmanagerstatusprovid process manag statu provid springframework roo project path springframework roo project projectoper project oper springframework roo support util springframework roo support util stringutil util springframework roo support util xmlutil xml util dom document dom element implement link dbremodelservic dbre model servic author alan stewart compon servic refer databaselisten databas listen strategi referencestrategi refer strategi event polici referencepolici refer polici dynam referenceinterfac refer databaselisten databas listen cardin referencecardin refer cardin option multipl dbremodelserviceimpl dbre model servic impl dbremodelservic dbre model servic processmanagerstatuslisten process manag statu listen refer connectionprovid connect provid connectionprovid connect provid refer filemanag file manag filemanag file manag refer processmanagerstatusprovid process manag statu provid processmanagerstatusprovid process manag statu provid refer projectoper project oper projectoper project oper refer propfileoper prop file oper propfileoper prop file oper map schema databas cachedintrospect cach introspect hashmap hash map schema databas schema lastschema schema javapackag destinationpackag destin view set includet includ tabl set excludet exclud tabl set databaselisten databas listen listen hashset hash set databaselisten databas listen startupcomplet startup complet activ componentcontext compon context context processmanagerstatusprovid process manag statu provid addprocessmanagerstatuslisten add process manag statu listen deactiv componentcontext compon context context processmanagerstatusprovid process manag statu provid removeprocessmanagerstatuslisten remov process manag statu listen onprocessmanagerstatuschang process manag statu chang processmanagerstatu process manag statu oldstatu statu processmanagerstatu process manag statu newstatu statu considerstartup startup newstatu statu considerstartup startup processmanagerstatu process manag statu newstatu statu newstatu statu processmanagerstatu process manag statu startupcomplet startup complet time start listen databas startupcomplet startup complet simpli call regist listen discov databas getdatabas databas lastschema schema binddatabaselisten bind databas listen databaselisten databas listen listen listen listen add listen startupcomplet startup complet lastschema schema listen miss startup event share thei onlin safe mode avoid tell databas separ databas databas getdatabas databas lastschema schema databas listen notifydatabaserefresh notifi databas refresh databas runtimeexcept runtim except unbinddatabaselisten unbind databas listen databaselisten databas listen listen listen listen remov listen supportsschema support schema displayaddon displai add on runtimeexcept runtim except connect connect connect getconnect connect displayaddon displai add on databasemetadata databas meta data databasemetadata databas meta data connect getmetadata meta data schematerm schema term databasemetadata databas meta data getschematerm schema term stringutil util hastext text schematerm schema term schematerm schema term equalsignorecas equal ignor schema except illegalstateexcept illeg except connectionprovid connect provid closeconnect close connect connect set schema getdatabaseschema databas schema displayaddon displai add on connect connect connect getconnect connect displayaddon displai add on schemaintrospector schema introspector introspector schemaintrospector schema introspector connect introspector getschema schema except collect emptyset empti set connectionprovid connect provid closeconnect close connect connect schema getlastschema schema thei command schema set lastschema schema lastschema schema fallback comput file load note chang schema field getter side free deserializeschemametadataifposs deseri schema metadata databas getdatabas databas schema schema cach copi dbre xml file sourc version getdatabas databas schema databas refreshdatabas refresh databas schema schema forc grab getdatabas databas schema databas refreshdatabasesaf refresh databas safe schema schema getdatabas databas schema setdestinationpackag set destin javapackag destinationpackag destin destinationpackag destin destinationpackag destin setview set view view view view setincludet set includ tabl set includet includ tabl includet includ tabl includet includ tabl setexcludet set exclud tabl set excludet exclud tabl excludet exclud tabl excludet exclud tabl databas getdatabas databas schema schema forcereadfromdatabas forc read databas safemod safe mode safemod safe mode notnul schema schema requir schema safe mode earlier assert schema getlastschema schema determin schema getdatabas databas forcereadfromdatabas forc read databas safemod safe mode notnul schema schema requir store schema schema call happen schema safemod safe mode lastschema schema schema forcereadfromdatabas forc read databas cachedintrospect cach introspect containskei kei schema cachedintrospect cach introspect schema read roo dbre xml file schema databas databas deserializedatabasemetadataifposs deseri databas metadata databas databas getschema schema equal schema deseri disk databas cach safemod safe mode cachedintrospect cach introspect schema databas publishtolisten publish listen databas databas connect connect connect getconnect connect databaseintrospector databas introspector introspector databaseintrospector databas introspector connect schema destinationpackag destin view includet includ tabl excludet exclud tabl databas databas introspector createdatabas creat databas safemod safe mode don chang notifi leav databas work store cachedintrospect cach introspect schema databas store time load roo thei aeroplan fly sydnei san francisco don databas todo detect gp coordin thei syd sfo databas databas hastabl tabl serializedatabasemetadatatofil serial databas metadata file databas lastli let listen publishtolisten publish listen databas databas except illegalstateexcept illeg except connectionprovid connect provid closeconnect close connect connect publishtolisten publish listen databas databas listen databaselisten databas listen listen listen listen notifydatabaserefresh notifi databas refresh databas runtimeexcept runtim except ignoreandmoveon ignor move write databas xml note xml file store databas databas serial disk requir serializedatabasemetadatatofil serial databas metadata file databas databas notnul databas databas requir dbrexmlpath dbre xml path getdbrexmlpath dbre xml path outputstream output stream outputstream output stream bytearrayoutputstream arrai output stream databasexmlutil databas xml util writedatabasestructuretooutputstream write databas structur output stream databas outputstream output stream filemanag file manag createorupdatetextfileifrequir creat updat text file requir dbrexmlpath dbre xml path outputstream output stream tostr read databas schema xml note xml file store databas databas schema pars unavail reason schema deserializeschemametadataifposs deseri schema metadata dbrexmlpath dbre xml path getdbrexmlpath dbre xml path stringutil util hastext text dbrexmlpath dbre xml path filemanag file manag exist dbrexmlpath dbre xml path filedetail file detail filedetail file detail filemanag file manag readfil read file dbrexmlpath dbre xml path inputstream input stream inputstream input stream fileinputstream file input stream filedetail file detail getfil file databasexmlutil databas xml util readschemafrominputstream read schema input stream inputstream input stream except read databas xml note xml file store databas databas pars unavail reason databas deserializedatabasemetadataifposs deseri databas metadata dbrexmlpath dbre xml path getdbrexmlpath dbre xml path stringutil util hastext text dbrexmlpath dbre xml path filemanag file manag exist dbrexmlpath dbre xml path filedetail file detail filedetail file detail filemanag file manag readfil read file dbrexmlpath dbre xml path inputstream input stream inputstream input stream fileinputstream file input stream filedetail file detail getfil file databasexmlutil databas xml util readdatabasestructurefrominputstream read databas structur input stream inputstream input stream except printstacktrac print stack trace connect getconnect connect displayaddon displai add on sqlexcept sql except filemanag file manag exist projectoper project oper getpathresolv path resolv getidentifi identifi path spring config root databas properti map connectionproperti connect properti propfileoper prop file oper getproperti properti path spring config root databas properti connectionprovid connect provid getconnect connect connectionproperti connect properti displayaddon displai add on properti connectionproperti connect properti getconnectionpropertiesfromdatanucleusconfigur connect properti data nucleu configur connectionprovid connect provid getconnect connect connectionproperti connect properti displayaddon displai add on properti getconnectionpropertiesfromdatanucleusconfigur connect properti data nucleu configur persistencexmlpath persist xml path projectoper project oper getpathresolv path resolv getidentifi identifi path src resourc meta inf persist xml filemanag file manag exist persistencexmlpath persist xml path illegalstateexcept illeg except fail find persistencexmlpath persist xml path filedetail file detail filedetail file detail filemanag file manag readfil read file persistencexmlpath persist xml path document document inputstream input stream fileinputstream file input stream filedetail file detail getfil file documentbuild document builder builder xmlutil xml util getdocumentbuild document builder builder seterrorhandl set error handler document builder pars except illegalstateexcept illeg except list element propertyel properti element xmlutil xml util findel find element persist persist unit properti properti document getdocumentel document element notempti empti propertyel properti element fail find properti element persistencexmlpath persist xml path properti properti properti element propertyel properti element propertyel properti element kei propertyel properti element getattribut attribut propertyel properti element getattribut attribut datanucleu connectiondrivernam connect driver equal kei properti databas driverclassnam driver datanucleu connectionurl connect url equal kei properti databas url datanucleu connectionusernam connect user equal kei properti databas usernam datanucleu connectionpassword connect password equal kei properti databas password properti size requir properti ignor element properti getdbrexmlpath dbre xml path projectoper project oper isprojectavail project projectoper project oper getpathresolv path resolv getidentifi identifi path root dbremodelservic dbre model servic dbre file 