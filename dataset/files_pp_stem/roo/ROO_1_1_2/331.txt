springframework roo addon web mvc jsp menu bytearrayoutputstream arrai output stream file ioexcept except outputstreamwrit output stream writer util hashmap hash map util list util map felix scr annot compon felix scr annot refer felix scr annot servic springframework roo addon propfil propfileoper prop file oper springframework roo model javasymbolnam symbol springframework roo process manag filemanag file manag springframework roo process manag mutablefil mutabl file springframework roo project path springframework roo project pathresolv path resolv springframework roo project projectoper project oper springframework roo support util springframework roo support util filecopyutil file copi util springframework roo support util stringutil util springframework roo support util templateutil templat util springframework roo support util xmlelementbuild xml element builder springframework roo support util xmlroundtriputil xml trip util springframework roo support util xmlutil xml util dom document dom element gener jsp menu manag menu item author stefan schmidt compon servic menuoperationsimpl menu oper impl menuoper menu oper refer filemanag file manag filemanag file manag refer projectoper project oper projectoper project oper refer propfileoper prop file oper propfileoper prop file oper addmenuitem add menu item javasymbolnam symbol menucategorynam menu categori javasymbolnam symbol menuitemid menu item globalmessagecod global messag code link idprefix prefix addmenuitem add menu item menucategorynam menu categori menuitemid menu item globalmessagecod global messag code link idprefix prefix addmenuitem add menu item javasymbolnam symbol menucategorynam menu categori javasymbolnam symbol menuitemid menu item menuitemlabel menu item label globalmessagecod global messag code link idprefix prefix addmenuitem add menu item menucategorynam menu categori menuitemid menu item menuitemlabel menu item label globalmessagecod global messag code link idprefix prefix addmenuitem add menu item javasymbolnam symbol menucategorynam menu categori javasymbolnam symbol menuitemid menu item menuitemlabel menu item label globalmessagecod global messag code link idprefix prefix writeprop write prop notnul menucategorynam menu categori menu categori requir notnul menuitemid menu item menu item requir hastext text link link requir map properti hashmap hash map idprefix prefix idprefix prefix length idprefix prefix menu item prefix document document document xmlutil xml util getdocumentbuild document builder pars getmenufil menu file except illegalargumentexcept illeg argument except unabl pars menu jspx stringutil util hastext text getmessag messag getmessag messag root element menu menu identifi allow decor menu element rootel root element xmlutil xml util findfirstel find element menu element document getfirstchild child rootel root element element rootmenu root menu xmlelementbuild xml element builder menu menu document addattribut add attribut menu build rootmenu root menu setattribut set attribut xmlroundtriputil xml trip util calculateuniquekeyfor calcul uniqu kei rootmenu root menu rootel root element element document getdocumentel document element appendchild append child rootmenu root menu check exist menu categori indentifi element categori xmlutil xml util findfirstel find element menucategorynam menu categori getsymbolnam symbol tolowercas rootel root element exist creat categori categori element rootel root element appendchild append child xmlelementbuild xml element builder menu categori document addattribut add attribut menucategorynam menu categori getsymbolnam symbol tolowercas build categori setattribut set attribut xmlroundtriputil xml trip util calculateuniquekeyfor calcul uniqu kei categori properti menu categori menucategorynam menu categori getsymbolnam symbol tolowercas label menucategorynam menu categori getreadablesymbolnam readabl symbol check exist menu item indentifi element menuitem menu item xmlutil xml util findfirstel find element idprefix prefix menucategorynam menu categori getsymbolnam symbol tolowercas menuitemid menu item getsymbolnam symbol tolowercas rootel root element menuitem menu item menuitem menu item xmlelementbuild xml element builder menu item document addattribut add attribut idprefix prefix menucategorynam menu categori getsymbolnam symbol tolowercas menuitemid menu item getsymbolnam symbol tolowercas addattribut add attribut messagecod messag code globalmessagecod global messag code addattribut add attribut url link build menuitem menu item setattribut set attribut xmlroundtriputil xml trip util calculateuniquekeyfor calcul uniqu kei menuitem menu item categori appendchild append child menuitem menu item writeprop write prop properti menu item menucategorynam menu categori getsymbolnam symbol tolowercas menuitemid menu item getsymbolnam symbol tolowercas label menuitemlabel menu item label propfileoper prop file oper addproperti add properti path src webapp web inf applic properti properti writetodiskifnecessari write disk document cleanupfindermenuitem clean finder menu item javasymbolnam symbol menucategorynam menu categori list allowedfindermenuid allow finder menu id notnul menucategorynam menu categori menu categori identifi requir notnul allowedfindermenuid allow finder menu id list allow menu item requir document document document xmlutil xml util getdocumentbuild document builder pars getmenufil menu file except illegalargumentexcept illeg argument except unabl pars menu jspx find menu item categori start menuitemidprefix menu item prefix list element element xmlutil xml util findel find element categori menucategorynam menu categori getsymbolnam symbol tolowercas item start finder menu item prefix document getdocumentel document element element size element element element allowedfindermenuid allow finder menu id element getattribut attribut equal element getattribut attribut xmlroundtriputil xml trip util calculateuniquekeyfor calcul uniqu kei element equal element getattribut attribut element getparentnod parent node removechild remov child element writetodiskifnecessari write disk document attempt locat menu item remov menucategorynam menu categori identifi menu categori requir menuitemnam menu item menu item identifi requir idprefix prefix prefix menu item option menuoper menu oper menu item prefix cleanupmenuitem clean menu item javasymbolnam symbol menucategorynam menu categori javasymbolnam symbol menuitemnam menu item idprefix prefix notnul menucategorynam menu categori menu categori identifi requir notnul menuitemnam menu item menu item requir idprefix prefix idprefix prefix length idprefix prefix menu item prefix document document document xmlutil xml util getdocumentbuild document builder pars getmenufil menu file except illegalargumentexcept illeg argument except unabl pars menu jsp find menu item categori exist element element xmlutil xml util findfirstel find element categori menucategorynam menu categori getsymbolnam symbol tolowercas item idprefix prefix menucategorynam menu categori getsymbolnam symbol tolowercas menuitemnam menu item getsymbolnam symbol tolowercas document getdocumentel document element element equal element getattribut attribut xmlroundtriputil xml trip util calculateuniquekeyfor calcul uniqu kei element equal element getattribut attribut element getparentnod parent node removechild remov child element writetodiskifnecessari write disk document file getmenufil menu file menufilenam menu file getmenufilenam menu file filemanag file manag exist menufilenam menu file filecopyutil file copi util copi templateutil templat util gettempl templat getclass menu jspx filemanag file manag createfil creat file menufilenam menu file getoutputstream output stream except illegalstateexcept illeg except encount error copi resourc mvc menu addon pathresolv path resolv pathresolv path resolv projectoper project oper getpathresolv path resolv filemanag file manag exist pathresolv path resolv getidentifi identifi path src webapp web inf tag menu menu tagx filecopyutil file copi util copi templateutil templat util gettempl templat getclass menu tagx filemanag file manag createfil creat file pathresolv path resolv getidentifi identifi path src webapp web inf tag menu menu tagx getoutputstream output stream except illegalstateexcept illeg except encount error copi resourc mvc menu addon filemanag file manag exist pathresolv path resolv getidentifi identifi path src webapp web inf tag menu item tagx filecopyutil file copi util copi templateutil templat util gettempl templat getclass item tagx filemanag file manag createfil creat file pathresolv path resolv getidentifi identifi path src webapp web inf tag menu item tagx getoutputstream output stream except illegalstateexcept illeg except encount error copi resourc mvc menu addon filemanag file manag exist pathresolv path resolv getidentifi identifi path src webapp web inf tag menu categori tagx filecopyutil file copi util copi templateutil templat util gettempl templat getclass categori tagx filemanag file manag createfil creat file pathresolv path resolv getidentifi identifi path src webapp web inf tag menu categori tagx getoutputstream output stream except illegalstateexcept illeg except encount error copi resourc mvc menu addon file menufilenam menu file getmenufilenam menu file projectoper project oper getpathresolv path resolv getidentifi identifi path src webapp web inf view menu jspx disk chang updat creat writetodiskifnecessari write disk document propos document origin mutablefil mutabl file write content jspcontent jsp content file mutablefil mutabl file mutablefil mutabl file menufilenam menu file getmenufilenam menu file filemanag file manag exist menufilenam menu file origin xmlutil xml util getdocumentbuild document builder pars getmenufil menu file except illegalstateexcept illeg except pars file menufilenam menu file notnul origin unabl pars menufilenam menu file xmlroundtriputil xml trip util comparedocu compar document origin propos mutablefil mutabl file filemanag file manag updatefil updat file menufilenam menu file origin propos mutablefil mutabl file filemanag file manag createfil creat file menufilenam menu file notnul mutablefil mutabl file creat jsp file menufilenam menu file mutablefil mutabl file build represent jsp bytearrayoutputstream arrai output stream bytearrayoutputstream arrai output stream bytearrayoutputstream arrai output stream xmlutil xml util writexml write xml xmlutil xml util createindentingtransform creat indent transform bytearrayoutputstream arrai output stream origin jspcontent jsp content bytearrayoutputstream arrai output stream tostr bytearrayoutputstream arrai output stream close write file file exist file content filecopyutil file copi util copi jspcontent jsp content outputstreamwrit output stream writer mutablefil mutabl file getoutputstream output stream wrote file ioexcept except ioe illegalstateexcept illeg except output mutablefil mutabl file getcanonicalpath canon path ioe file exist contain content 