springframework roo addon layer repositori jpa junit assertequ equal junit assertnotnul junit asserttru util collect util hashset hash set util set junit junit test mockito mock mockito mockitoannot mockito annot springframework roo classpath layer methodparamet paramet springframework roo model javatyp type springframework roo support util stringutil util unit test link repositorylayermethod repositori layer author andrew swan repositorylayermethodtest repositori layer test fixtur mock javatyp type mocktargetent mock target entiti mock javatyp type mockidtyp mock type setup set mockitoannot mockito annot initmock init mock test testnamesareuniqueandnotblank test name uniqu blank set name hashset hash set repositoryjpalayermethod repositori jpa layer repositoryjpalayermethod repositori jpa layer valu getnam name add asserttru stringutil util hastext text assertequ equal repositoryjpalayermethod repositori jpa layer valu length name size test testparametertypesarenotnul test paramet type repositoryjpalayermethod repositori jpa layer repositoryjpalayermethod repositori jpa layer valu assertnotnul getparametertyp paramet type mocktargetent mock target entiti mockidtyp mock type test testcallflushmethod test call flush invok methodcal call repositoryjpalayermethod repositori jpa layer flush getcal call collect methodparamet paramet emptylist empti list check assertequ equal flush methodcal call 