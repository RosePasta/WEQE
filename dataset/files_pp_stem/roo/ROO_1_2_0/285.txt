springframework roo addon jpa junit assertequ equal mockito matcher mockito mockito verifi mockito mockito springframework roo addon jpa jdbcdatabas jdbc databas memori springframework roo addon jpa jpaoperationsimpl jpa oper impl jpa dialect file springframework roo addon jpa jpaoperationsimpl jpa oper impl persist xml springframework roo addon jpa ormprovid orm provid hibern bytearrayinputstream arrai input stream inputstream input stream util properti junit junit test mockito argumentcaptor argument captor mockito mock mockito mockitoannot mockito annot springframework roo addon propfil propfileoper prop file oper springframework roo process manag filemanag file manag springframework roo project path springframework roo project pathresolv path resolv springframework roo project projectoper project oper springframework roo support util stringutil util unit test link jpaoperationsimpl jpa oper impl author andrew swan jpaoperationsimpltest jpa oper impl test constant applic context path path app context dialect dbdialect dialect host mydbhost host jndi mydatasourc data sourc mydbnam password mydbpassword password user mydbusernam user persist path path persist persist unit mypersistenceunit persist unit pom path path pom transact manag mytransactionmanag transact manag fixtur jpaoperationsimpl jpa oper impl jpaoper jpa oper properti dialect mock filemanag file manag mockfilemanag mock file manag mock pathresolv path resolv mockpathresolv mock path resolv mock projectoper project oper mockprojectoper mock project oper mock propfileoper prop file oper mockpropfileoper mock prop file oper setup set mockitoannot mockito annot initmock init mock mock mockprojectoper mock project oper getpathresolv path resolv thenreturn mockpathresolv mock path resolv mockpathresolv mock path resolv getfocusedidentifi focus identifi path root jpaoperationsimpl jpa oper impl pom xml thenreturn pom path mockpathresolv mock path resolv getfocusedidentifi focus identifi path spring config root jpaoperationsimpl jpa oper impl applic context xml thenreturn applic context path object test jpaoper jpa oper jpaoperationsimpl jpa oper impl jpaoper jpa oper pathresolv path resolv mockpathresolv mock path resolv jpaoper jpa oper filemanag file manag mockfilemanag mock file manag jpaoper jpa oper projectoper project oper mockprojectoper mock project oper jpaoper jpa oper propfileoper prop file oper mockpropfileoper mock prop file oper hard ugli mock dialect properti pom xml version encod utf project build plugin plugin groupid group maven plugin groupid group artifactid artifact maven plugin artifactid artifact version version configur additionalbuildcommand addit buildcommand additionalbuildcommand addit buildcommand additionalprojectnatur addit projectnatur additionalprojectnatur addit projectnatur configur plugin plugin build project app context xml version encod utf bean bean creat link inputstream input stream time read spring applic context pom applic context xml requir fresh stream inputstream input stream getappcontextinputstream app context input stream appcontext app context bytearrayinputstream arrai input stream appcontext app context getbyt byte creat link inputstream input stream time read pom pom pom xml requir fresh stream bytearrayinputstream arrai input stream getpominputstream pom input stream pom bytearrayinputstream arrai input stream pom getbyt byte expect applic context xml version encod utf standalon bean bean common dbcp basicdatasourc basic data sourc destroi close datasourc data sourc properti driverclassnam driver databas driverclassnam driver properti url databas url properti usernam databas usernam properti password databas password properti testonborrow test borrow properti testonreturn test properti testwhileidl test idl properti timebetweenevictionrunsmilli time evict run milli properti numtestsperevictionrun num test evict properti minevictableidletimemilli min evict idl time milli bean bean springframework orm jpa jpatransactionmanag jpa transact manag mytransactionmanag transact manag properti entitymanagerfactori entiti manag factori entitymanagerfactori entiti manag factori bean annot driven mode transact manag mytransactionmanag transact manag bean springframework orm jpa localcontainerentitymanagerfactorybean local contain entiti manag factori bean entitymanagerfactori entiti manag factori properti persistenceunitnam persist unit mypersistenceunit persist unit properti datasourc data sourc datasourc data sourc bean bean expect jndi applic context xml version encod utf standalon bean jee jndi lookup datasourc data sourc jndi mydatasourc data sourc bean springframework orm jpa jpatransactionmanag jpa transact manag mytransactionmanag transact manag properti entitymanagerfactori entiti manag factori entitymanagerfactori entiti manag factori bean annot driven mode transact manag mytransactionmanag transact manag bean springframework orm jpa localcontainerentitymanagerfactorybean local contain entiti manag factori bean entitymanagerfactori entiti manag factori properti persistenceunitnam persist unit mypersistenceunit persist unit properti datasourc data sourc datasourc data sourc bean bean expect persist xml memori hibern xml version encod utf standalon persist xmln http sun xml persist xmln xsi http xmlschema xml schema instanc version xsi schemaloc schema locat http sun xml persist http sun xml persist persist xsd persist unit mypersistenceunit persist unit transact type resourc local provid hibern ejb hibernatepersist hibern persist provid properti properti hibern dialect dbdialect dialect creat build databas updat modifi exist databas creat drop creat drop tabl hibern close valid databas properti hibern hbm ddl hbm ddl auto creat properti hibern ejb name strategi hibern cfg improvednamingstrategi improv name strategi properti hibern connect charset set utf uncom properti jboss boss properti hibern valid appli ddl properti hibern valid autoregist listen properti persist unit persist test testconfigurejpaforh inmemoryandhibernatefornewproject test configur jpa memori hibern project set mockfilemanag mock file manag getinputstream input stream pom path thenreturn getpominputstream pom input stream pom getpominputstream pom input stream pom mockfilemanag mock file manag getinputstream input stream applic context path thenreturn getappcontextinputstream app context input stream app context mockpathresolv mock path resolv getfocusedidentifi focus identifi path src resourc persist xml thenreturn persist path mockfilemanag mock file manag exist persist path thenreturn exist persist xml mockpropfileoper mock prop file oper loadproperti load properti jpa dialect file jpaoperationsimpl jpa oper impl thenreturn dialect ormprovid orm provid ormprovid orm provid hibern jdbcdatabas jdbc databas jdbcdatabas jdbc databas memori dialect ormprovid orm provid jdbcdatabas jdbc databas dialect invok jpaoper jpa oper configurejpa configur jpa ormprovid orm provid jdbcdatabas jdbc databas host user password transact manag persist unit check verifyfileupd verifi file updat expect applic context applic context path verifyfileupd verifi file updat expect persist xml memori hibern persist path test testconfigurejpaforh inmemoryandhibernateandjndifornewproject test configur jpa memori hibern jndi project set mockfilemanag mock file manag getinputstream input stream pom path thenreturn getpominputstream pom input stream pom getpominputstream pom input stream pom mockfilemanag mock file manag getinputstream input stream applic context path thenreturn getappcontextinputstream app context input stream app context mockpathresolv mock path resolv getfocusedidentifi focus identifi path src resourc persist xml thenreturn persist path mockfilemanag mock file manag exist persist path thenreturn exist persist xml mockpropfileoper mock prop file oper loadproperti load properti jpa dialect file jpaoperationsimpl jpa oper impl thenreturn dialect ormprovid orm provid ormprovid orm provid hibern jdbcdatabas jdbc databas jdbcdatabas jdbc databas memori dialect ormprovid orm provid jdbcdatabas jdbc databas dialect invok jpaoper jpa oper configurejpa configur jpa ormprovid orm provid jdbcdatabas jdbc databas jndi host user password transact manag persist unit check verifyfileupd verifi file updat expect jndi applic context applic context path verifyfileupd verifi file updat expect persist xml memori hibern persist path verifi mock link filemanag file manag ask write content file expectedcont expect content content expect written filenam file expect written verifyfileupd verifi file updat expectedcont expect content filenam argumentcaptor argument captor textcaptor text captor argumentcaptor argument captor forclass verifi mockfilemanag mock file manag createorupdatetextfileifrequir creat updat text file requir filenam textcaptor text captor captur replac dummi termin platform specif appli xmlutil xml util nodetostr node normalisedcont normalis content expectedcont expect content replac stringutil util separ assertequ equal normalisedcont normalis content textcaptor text captor getvalu 