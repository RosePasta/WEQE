springframework roo addon layer repositori mongo junit assertequ equal junit assertnul mockito mockito mock mockito mockito springframework roo classpath customdata customdatakei custom data find util arrai junit junit test mockito mock mockito mockitoannot mockito annot springframework roo classpath customdata tagkei methodmetadatacustomdatakei metadata custom data kei springframework roo classpath detail classorinterfacetypedetail type detail springframework roo classpath detail fieldmetadata field metadata springframework roo classpath layer membertypeaddit member type addit springframework roo classpath layer methodparamet paramet springframework roo classpath persist persistencememberloc persist member locat springframework roo model javatyp type unit test link repositorymongolayerprovid repositori mongo layer provid author stefan schmidt repositorymongolayerprovidertest repositori mongo layer provid test constant caller mid mid petservic pet servic fixtur repositorymongolayerprovid repositori mongo layer provid layerprovid layer provid mock javatyp type mocktargetent mock target entiti mock javatyp type mockidtyp mock type mock repositorymongoloc repositori mongo locat mockrepositoryloc mock repositori locat setup set mockitoannot mockito annot initmock init mock layerprovid layer provid repositorymongolayerprovid repositori mongo layer provid layerprovid layer provid setrepositoryloc set repositori locat mockrepositoryloc mock repositori locat set mock link repositorymongoloc repositori mongo locat link persistencememberloc persist member locat mock repositori test entiti setupmockrepositori set mock repositori classorinterfacetypedetail type detail mockrepositorydetail mock repositori detail mock classorinterfacetypedetail type detail fieldmetadata field metadata mockfieldmetadata mock field metadata mock fieldmetadata field metadata javatyp type mockrepositorytyp mock repositori type mock javatyp type mockrepositorytyp mock repositori type getsimpletypenam simpl type thenreturn clinicrepo clinic repo mockidtyp mock type getfullyqualifiedtypenam fulli qualifi type thenreturn getnam mockrepositorydetail mock repositori detail getnam thenreturn mockrepositorytyp mock repositori type mockfieldmetadata mock field metadata getfieldtyp field type thenreturn mockidtyp mock type mockrepositoryloc mock repositori locat getrepositori repositori mocktargetent mock target entiti thenreturn arrai aslist list mockrepositorydetail mock repositori detail test testgetadditionsfornonrepositorylayermethod test addit repositori layer invok membertypeaddit member type addit addit layerprovid layer provid getmembertypeaddit member type addit caller mid bogu mocktargetent mock target entiti mockidtyp mock type check assertnul addit test testgetadditionswhennorepositoriesexist test addit repositori exist invok membertypeaddit member type addit addit layerprovid layer provid getmembertypeaddit member type addit caller mid find mocktargetent mock target entiti mockidtyp mock type check assertnul addit assert link repositorymongolayerprovid repositori mongo layer provid gener expect call paramet expectedmethodcal expect call methodkei kei callerparamet caller paramet assertmethodcal call expectedmethodcal expect call methodmetadatacustomdatakei metadata custom data kei methodkei kei methodparamet paramet callerparamet caller paramet set setupmockrepositori set mock repositori invok membertypeaddit member type addit addit layerprovid layer provid getmembertypeaddit member type addit caller mid methodkei kei mocktargetent mock target entiti mockidtyp mock type callerparamet caller paramet check assertequ equal expectedmethodcal expect call addit getmethodcal call test testgetfindalladdit test find addit assertmethodcal call clinicrepo clinic repo findal find find 