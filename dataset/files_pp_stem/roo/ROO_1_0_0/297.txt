springframework roo shell intern bufferedread buffer reader file fileinputstream file input stream filenotfoundexcept file except ioexcept except inputstream input stream inputstreamread input stream reader net url text dateformat format util util properti util sortedset sort set util treeset tree set util jar manifest util log logger springframework roo shell clicommand cli command springframework roo shell clioption cli option springframework roo shell executionstrategi execut strategi springframework roo shell exitshellrequest exit shell request springframework roo shell parseresult pars result springframework roo shell shell springframework roo shell event abstractshellstatuspublish shell statu publish springframework roo shell event shellstatu shell statu springframework roo support util base link shell implement author ben alex abstractshel shell abstractshellstatuspublish shell statu publish shell logger logger logger getlogg logger getclass getnam inblockcom block comment exitshellrequest exit shell request exitshellrequest exit shell request executionstrategi execut strategi executionstrategi execut strategi shellprompt shell prompt roo completionkei complet tab abstractshel shell executionstrategi execut strategi executionstrategi execut strategi notnul executionstrategi execut strategi execut strategi requir executionstrategi execut strategi executionstrategi execut strategi clicommand cli command script pars resourc file execut command script clioption cli option kei file file locat execut mandatori file resourc clioption cli option kei linenumb number mandatori specifieddefaultvalu unspecifieddefaultvalu unspecifi displai number execut script linenumb number notnul resourc resourc parser requir start gettim time inputstream input stream inputstream input stream inputstream input stream fileinputstream file input stream resourc filenotfoundexcept file except trytheclassloaderinstead loader inputstream input stream find resourc classload inputstream input stream getclass getresourceasstream resourc stream resourc getnam notnul inputstream input stream resourc resourc disk classpath bufferedread buffer reader bufferedread buffer reader inputstreamread input stream reader inputstream input stream readlin read linenumb number logger fine logger fine equal trim success executecommand execut command success abort script process wrong illegalstateexcept illeg except script execut abort close ioexcept except illegalstateexcept illeg except logger fine millisecond requir gettim time start executecommand execut command command attempt setshellstatu set shell statu shellstatu shell statu pars support simpl block comment singl pair inblockcom block comment blockcommentbegin block comment lh substr lastindexof lh substr lastindexof blockcommentfinish block comment finish lh inblockcom block comment blockcommentfinish block comment finish substr lastindexof support inlin comment inblockcom block comment substr indexof equal trim setshellstatu set shell statu shellstatu shell statu execut complet parseresult pars result parseresult pars result getpars parser pars parseresult pars result setshellstatu set shell statu shellstatu shell statu execut object result executionstrategi execut strategi execut parseresult pars result setshellstatu set shell statu shellstatu shell statu execut result process result result exitshellrequest exit shell request exitshellrequest exit shell request exitshellrequest exit shell request result result iter object iter result logger info tostr logger info result tostr runtimeexcept runtim except setshellstatu set shell statu shellstatu shell statu execut result process reli execut strategi log throwabl root exceptionutil except util extractrootcaus extract root logger log level fine root getmessag messag logcommandifrequir log command requir except ignoreit ignor setshellstatu set shell statu shellstatu shell statu execut complet logcommandifrequir log command requir subclass log execut form command invok command complet command return return except note attempt command form miss mandatori argument present command execut attempt case invok attempt execut command implement special handl script command indic command success implement behav consist link abstractshel shell subclass encourag simpli overrid link logcommandtooutput log command output overrid fine tune output logic pars comment remov success command success logcommandifrequir log command requir success startswith start script logcommandtooutput log command output success fail logcommandtooutput log command output success fail subclass write log command form output free subclass need implement logic link logcommandifrequir log command requir implement invok link getexitshellrequest exit shell request monitor attempt exit shell releas resourc output log file processedlin process append type output exclud charact logcommandtooutput log command output processedlin process logger sever processedlin process base implement link shell setpromptpath set prompt path design simpl shell implement advanc implement support ansi code overrid set link shellprompt shell prompt variabl path set empti format special ansi code setpromptpath set prompt path path equal path path shellprompt shell prompt roo shellprompt shell prompt path roo exitshellrequest exit shell request getexitshellrequest exit shell request exitshellrequest exit shell request clicommand cli command exit quit exit shell exitshellrequest exit shell request requestexit request exit exitshellrequest exit shell request normal exit clicommand cli command inlin comment marker start inlinecom inlin comment clicommand cli command start block comment blockcommentbegin block comment istru inblockcom block comment open block comment activ inblockcom block comment clicommand cli command block comment blockcommentfinish block comment finish istru inblockcom block comment close block comment open inblockcom block comment clicommand cli command system properti shell shell properti prop properti properti system getproperti properti sortedset sort set data treeset tree set object properti properti keyset kei set object properti properti data add properti stringbuild builder stringbuild builder data append append system getproperti properti separ tostr clicommand cli command displai local time dateformat format getdatetimeinst time instanc dateformat format full dateformat format full format clicommand cli command version displai shell version version clioption cli option kei special version flag extra stringbuild builder stringbuild builder jaim equal extra append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append load roo append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append roo append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append append versioninfo version info append system getproperti properti separ tostr append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append system getproperti properti separ append append append versioninfo version info append system getproperti properti separ append system getproperti properti separ tostr versioninfo version info determin svn version svnrev svn rev classcontain contain abstractshel shell getprotectiondomain protect domain getcodesourc code sourc getloc locat tostr classcontain contain endswith end jar attempt svn version manifest url manifesturl manifest url url jar classcontain contain meta inf manifest manifest manifest manifest manifesturl manifest url openstream open stream svnrev svn rev manifest getmainattribut attribut getvalu implement build develop mode svnversion extern tool classcontain contain startswith start file locat classcontain contain substr file file locat getparentfil parent file getparentfil parent file getparentfil parent file exist process runtim getruntim runtim exec svnversion getcanonicalpath canon path bufferedread buffer reader input bufferedread buffer reader inputstreamread input stream reader getinputstream input stream input readlin read svnrev svn rev input close except ignoreandmoveon ignor move formalbuild formal build abstractshel shell getpackag getimplementationvers implement version build version detail stringbuild builder stringbuild builder formalbuild formal build append engin build append formalbuild formal build svnrev svn rev append rev unknown append rev append svnrev svn rev append tostr getshellprompt shell prompt shellprompt shell prompt obtain directori current shell instanc note call link gethomeasstr subclass provid directori locat environ specif strategi path link gethomeasstr exist refer directori directori return path link gethomeasstr exist refer file except thrown path link gethomeasstr exist creat directori fail except thrown directori current shell instanc guarante exist directori file gethom roohom roo gethomeasstr file file roohom roo istru exist exist isdirectori directori path getabsolutepath absolut path directori exist exist mkdir istru exist isdirectori directori path getabsolutepath absolut path directori roo system properti correctli gethomeasstr 