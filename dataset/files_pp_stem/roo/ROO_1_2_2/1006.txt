springframework roo shell jline common ioutil util separ printwrit print writer stringwrit writer util log formatt util log handler util log level util log logrecord log record jline ansibuff ansi buffer jline consoleread consol reader common ioutil util common lang lang systemutil system util common lang lang valid springframework roo shell shellpromptaccessor shell prompt accessor springframework roo support util ansiescapecod ansi escap code jdk log link handler emit log messag jline link consoleread consol reader author ben alex jlineloghandl log handler handler bright color getboolean roo bright includethreadnam includ thread lastmessag messag threadloc thread local redrawprohibit redraw prohibit threadloc thread local suppressduplicatemessag suppress duplic messag cancelredrawprohibit cancel redraw prohibit redrawprohibit redraw prohibit remov text brighter request system properti roo bright work issu window revers combin jansi lib leav neg flag set reset explicitli patch ansibuff ansi buffer ansibuff ansi buffer getansibuff ansi buffer esc ansibuff ansi buffer overrid ansibuff ansi buffer attrib str code bright color code code color code add bright code append esc code append str append ansicod ansi code attrib attrib str code overrid ansibuff ansi buffer revers str systemutil system util window revers str append ansicod ansi code attrib esc revers str issuppressduplicatemessag suppress duplic messag suppressduplicatemessag suppress duplic messag prohibitredraw prohibit redraw redrawprohibit redraw prohibit set resetmessagetrack reset messag track lastmessag messag roo setincludethreadnam set includ thread includ includethreadnam includ thread includ setsuppressduplicatemessag set suppress duplic messag suppressduplicatemessag suppress duplic messag jlineloghandl log handler suppressduplicatemessag suppress duplic messag suppressduplicatemessag suppress duplic messag ansisupport ansi support consoleread consol reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor userinterfacethreadnam user thread jlineloghandl log handler consoleread consol reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor valid notnul reader consol reader requir valid notnul shellpromptaccessor shell prompt accessor shell prompt accessor requir reader reader shellpromptaccessor shell prompt accessor shellpromptaccessor shell prompt accessor userinterfacethreadnam user thread thread currentthread current thread getnam ansisupport ansi support reader gettermin termin isansisupport ansi support ansiescapecod ansi escap code isansien ansi enabl setformatt set formatt formatt overrid format logrecord log record record stringbuild builder stringbuild builder record getmessag messag append record getmessag messag append separ record getthrown thrown printwrit print writer stringwrit writer stringwrit writer printwrit print writer record getthrown thrown printstacktrac print stack trace append tostr except ioutil util closequietli close quietli tostr overrid close securityexcept secur except overrid flush overrid publish logrecord log record record avoid repeat messag displai current messag roo roo todisplai displai todisplai displai record todisplai displai equal lastmessag messag suppressduplicatemessag suppress duplic messag lastmessag messag todisplai displai stringbuff buffer buffer reader getcursorbuff cursor buffer getbuff buffer cursor reader getcursorbuff cursor buffer cursor reader getcursorbuff cursor buffer length user semi type debug messag separ reader printnewlin print newlin cancel type reset appear empti reader getcursorbuff cursor buffer setbuff set buffer stringbuff buffer reader getcursorbuff cursor buffer cursor ensur displai redraw reader setdefaultprompt set prompt reader redrawlin redraw restor format set origin reader setdefaultprompt set prompt shellpromptaccessor shell prompt accessor getshellprompt shell prompt reader getcursorbuff cursor buffer setbuff set buffer buffer reader getcursorbuff cursor buffer cursor cursor reader printstr print todisplai displai prohibitingredraw prohibit redraw redrawprohibit redraw prohibit prohibitingredraw prohibit redraw reader redrawlin redraw reader flushconsol flush consol except reporterror report error publish log messag level sever intvalu todisplai displai logrecord log record event stringbuild builder stringbuild builder threadnam thread eventstr event includethreadnam includ thread userinterfacethreadnam user thread equal thread currentthread current thread getnam equal thread currentthread current thread getnam threadnam thread thread currentthread current thread getnam build event indent nice left hand side thread stringbuild builder lineseparatorandindentingstr separ indent stringbuild builder threadnam thread length lineseparatorandindentingstr separ indent append eventstr event getformatt formatt format event replac separ separ lineseparatorandindentingstr separ indent tostr eventstr event endswith end lineseparatorandindentingstr separ indent tostr eventstr event eventstr event substr eventstr event length lineseparatorandindentingstr separ indent length threadnam thread eventstr event getformatt formatt format event ansisupport ansi support event getlevel level intvalu level sever intvalu append getansibuff ansi buffer revers threadnam thread red eventstr event event getlevel level intvalu level warn intvalu append getansibuff ansi buffer revers threadnam thread magenta eventstr event event getlevel level intvalu level info intvalu append getansibuff ansi buffer revers threadnam thread green eventstr event append getansibuff ansi buffer revers threadnam thread append eventstr event append threadnam thread append eventstr event tostr 