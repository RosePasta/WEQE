springframework roo shell common ioutil util separ bufferedinputstream buffer input stream file fileinputstream file input stream filenotfoundexcept file except ioexcept except inputstream input stream net urisyntaxexcept uri syntax except net url text dateformat format util collect util util list util map entri util set util treeset tree set util jar jarfil jar file util jar manifest util log level util log logger util zip zipentri zip entri common ioutil util common lang lang stringutil util common lang lang valid springframework roo shell event abstractshellstatuspublish shell statu publish springframework roo shell event shellstatu shell statu springframework roo shell event shellstatu shell statu statu springframework roo support log handlerutil handler util springframework roo support util collectionutil collect util base link shell implement author ben alex abstractshel shell abstractshellstatuspublish shell statu publish shell slot abstractshel shell getnam roo prompt roo field don renam api chang st completionkei complet tab shellprompt shell prompt roo prompt versioninfo version info determin bundl version bundlevers bundl version gitcommithash git commit hash jarfil jar file jarfil jar file url classcontain contain abstractshel shell getprotectiondomain protect domain getcodesourc code sourc getloc locat classcontain contain tostr endswith end jar attempt bundl version version manifest jarfil jar file jarfil jar file file classcontain contain touri uri zipentri zip entri manifestentri manifest entri jarfil jar file getentri entri meta inf manifest manifest manifest manifest jarfil jar file getinputstream input stream manifestentri manifest entri bundlevers bundl version manifest getmainattribut attribut getvalu bundl version gitcommithash git commit hash manifest getmainattribut attribut getvalu git commit hash ioexcept except ignoreandmoveon ignor move urisyntaxexcept uri syntax except ignoreandmoveon ignor move jarfil jar file jarfil jar file close ioexcept except stringbuild builder stringbuild builder bundlevers bundl version append bundlevers bundl version gitcommithash git commit hash gitcommithash git commit hash length length append append rev append gitcommithash git commit hash substr append length append unknown version tostr logger logger handlerutil handler util getlogg logger getclass inblockcom block comment exitshellrequest exit shell request exitshellrequest exit shell request tailor tailor clicommand cli command start block comment blockcommentbegin block comment valid istru inblockcom block comment open block comment activ inblockcom block comment clicommand cli command block comment blockcommentfinish block comment finish valid istru inblockcom block comment close block comment open inblockcom block comment clicommand cli command displai local time dateformat format getdatetimeinst time instanc dateformat format full dateformat format full format executecommand execut command tailor executecommandimpl execut command impl gettailor tailor transform input command execut output sequenti list command command tailor sew collectionutil collect util isempti empti command executecommandimpl execut command impl command command logger info roo tailor command executecommandimpl execut command impl command run command control caller command executecommandimpl execut command impl command attempt setshellstatu set shell statu shellstatu shell statu statu pars executionstrategi execut strategi executionstrategi execut strategi getexecutionstrategi execut strategi flashedmessag flash messag executionstrategi execut strategi executionstrategi execut strategi isreadyforcommand readi command wait thread sleep interruptedexcept interrupt except ignor flashedmessag flash messag flash level info wait load slot flashedmessag flash messag flashedmessag flash messag flash level info slot parseresult pars result parseresult pars result support simpl block comment singl pair inblockcom block comment blockcommentbegin block comment lh substr lastindexof lh substr lastindexof blockcommentfinish block comment finish lh inblockcom block comment blockcommentfinish block comment finish substr lastindexof support inlin comment start valid command option http helloworld fail roo inblockcom block comment trim startswith start trim startswith start support roo convert tab charact whitespac roo replac equal trim setshellstatu set shell statu statu execut success parseresult pars result getpars parser pars parseresult pars result setshellstatu set shell statu statu execut object result executionstrategi execut strategi execut parseresult pars result setshellstatu set shell statu statu execut result process result result exitshellrequest exit shell request exitshellrequest exit shell request exitshellrequest exit shell request result processmanag process manag chanc close thread osgi framework termin roo executionstrategi execut strategi termin result iter object iter result logger info tostr logger info result tostr logcommandifrequir log command requir setshellstatu set shell statu statu execut success parseresult pars result runtimeexcept runtim except setshellstatu set shell statu statu execut fail parseresult pars result reli execut strategi log logcommandifrequir log command requir except setshellstatu set shell statu statu user input execut singl script overridden class pre process script line executescriptlin execut script executecommand execut command return classpath resourc path path path search code code search can perform collect url findresourc find resourc path simpl implement link flash level simpli displai messag logger recommend shell implement overrid effect approach flash level level messag slot valid notnul level level requir flash messag valid notnul messag messag requir flash messag valid notblank blank slot slot flash messag equal messag logger log level messag clicommand cli command flash test test messag flash flashcustom flash custom except flash level fine thread sleep flash level fine thread sleep flash level fine small thread sleep flash level fine download xyz thread sleep flash level fine thread sleep flash level fine download xyz thread sleep flash level fine system onlin thread sleep flash level fine system readi thread sleep flash level fine system farewel thread sleep flash level fine thread sleep flash level fine executionstrategi execut strategi getexecutionstrategi execut strategi exitshellrequest exit shell request getexitshellrequest exit shell request exitshellrequest exit shell request obtain directori current shell instanc note call link gethomeasstr subclass provid directori locat environ specif strategi path link gethomeasstr exist refer directori directori return path link gethomeasstr exist refer file except thrown path link gethomeasstr exist creat directori fail except thrown directori current shell instanc guarante exist directori file gethom roohom roo gethomeasstr file file roohom roo valid istru exist exist isdirectori directori path directori exist getabsolutepath absolut path exist mkdir valid istru exist isdirectori directori path directori roo system properti correctli getabsolutepath absolut path gethomeasstr parser getpars parser getshellprompt shell prompt shellprompt shell prompt clicommand cli command inlin comment marker start inlinecom inlin comment subclass log execut form command invok command complet command return return except note attempt command form miss mandatori argument present command execut attempt case invok attempt execut command implement special handl script command indic command success implement behav consist link abstractshel shell subclass encourag simpli overrid link logcommandtooutput log command output overrid fine tune output logic pars comment remov success command success logcommandifrequir log command requir success startswith start script logcommandtooutput log command output success fail logcommandtooutput log command output success fail subclass write log command form output free subclass need implement logic link logcommandifrequir log command requir implement invok link getexitshellrequest exit shell request monitor attempt exit shell releas resourc output log file processedlin process append type output exclud charact logcommandtooutput log command output processedlin process open script read script script read requir code code input stream inputstream input stream openscript open script file script bufferedinputstream buffer input stream fileinputstream file input stream script filenotfoundexcept file except fnfe find script classload collect url url findresourc find resourc script getnam handl search failur valid notnul url unexpect error script getnam handl search file simpli valid notempti empti url script disk classpath script valid istru url size classpath unabl script url iter openstream open stream ioexcept except illegalstateexcept illeg except clicommand cli command system properti shell shell properti prop set data treeset tree set entri object object entri system getproperti properti entryset entri set data add entri getkei kei entri getvalu stringutil util join data separ separ valuetoround numberofdecimalplac number decim place multiplicationfactor multipl factor math pow numberofdecimalplac number decim place interestedinzerodp interest valuetoround multiplicationfactor multipl factor math interestedinzerodp interest multiplicationfactor multipl factor clicommand cli command script pars resourc file execut command script clioption cli option kei file file locat execut mandatori file script clioption cli option kei linenumb number mandatori specifieddefaultvalu unspecifieddefaultvalu unspecifi displai number execut script linenumb number valid notnul script script file pars requir startednanosecond start nanosecond system nanotim nano time inputstream input stream inputstream input stream openscript open script script ioutil util readlin read line inputstream input stream linenumb number logger fine logger fine equal trim success executescriptlin execut script success trim startswith start trim startswith start success abort script process wrong illegalstateexcept illeg except script execut abort ioexcept except illegalstateexcept illeg except ioutil util closequietli close quietli inputstream input stream executiondurationinsecond execut durat second system nanotim nano time startednanosecond start nanosecond logger fine script requir executiondurationinsecond execut durat second second execut base implement link shell setpromptpath set prompt path design simpl shell implement advanc implement support ansi code overrid set link shellprompt shell prompt variabl path set empti format special ansi code setpromptpath set prompt path path shellprompt shell prompt stringutil util isnotblank blank path path roo prompt implement link shell setpromptpath set prompt path satisfi st compat path set empti overridestyl overrid style setpromptpath set prompt path path overridestyl overrid style setpromptpath set prompt path path settailor set tailor tailor tailor tailor tailor clicommand cli command version displai shell version version clioption cli option kei special version flag extra stringbuild builder stringbuild builder roorock equal extra append append separ append append separ append append separ append append separ append append separ append append separ append append separ append load roo append separ append append separ append append separ append append separ append append separ append append separ append roo append separ append append separ append append separ append append separ append append separ append append separ append append separ append append append versioninfo version info append separ tostr append append separ append append separ append append separ append append separ append append append versioninfo version info append separ append separ tostr 