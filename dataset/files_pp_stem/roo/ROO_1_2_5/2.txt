springframework roo addon backup file fileinputstream file input stream filenotfoundexcept file except filenamefilt filenam filter ioexcept except inputstream input stream text dateformat format text simpledateformat simpl format util util log logger util zip zipentri zip entri util zip zipoutputstream zip output stream common ioutil util common lang lang valid felix scr annot compon felix scr annot refer felix scr annot servic springframework roo process manag filemanag file manag springframework roo process manag mutablefil mutabl file springframework roo project path springframework roo project projectoper project oper springframework roo support log handlerutil handler util springframework roo support util fileutil file util oper backup add author stefan schmidt author ben alex author alan stewart compon servic backupoperationsimpl backup oper impl backupoper backup oper logger logger handlerutil handler util getlogg logger backupoperationsimpl backup oper impl refer filemanag file manag filemanag file manag refer projectoper project oper projectoper project oper backup valid istru isbackupposs backup project metadata unavail window format legal form filenam roo pattern file separatorchar separ yyyi yyyi dateformat format simpledateformat simpl format pattern start system nanotim nano time zipoutputstream zip output stream zo file projectdirectori project directori file projectoper project oper getpathresolv path resolv getfocusedidentifi focus identifi path root mutablefil mutabl file file filemanag file manag createfil creat file fileutil file util getcanonicalpath canon path file projectdirectori project directori projectoper project oper getfocusedprojectnam focus project format zip zo zipoutputstream zip output stream file getoutputstream output stream zip projectdirectori project directori projectdirectori project directori zo filenotfoundexcept file except logger fine determin project directori ioexcept except logger fine creat backup archiv ioutil util closequietli close quietli zo millisecond system nanotim nano time start backup complet millisecond isbackupposs backup projectoper project oper isfocusedprojectavail focus project zip file directori file base zipoutputstream zip output stream zo ioexcept except file file directori listfil list file filenamefilt filenam filter accept file dir don directori target base dir equal base equal target skip exist backup file dir equal base endswith end zip skip file start startswith start file file file file isdirectori directori file listfil list file length zipentri zip entri direntri dir entri zipentri zip entri file getpath path substr base getpath path length file separatorchar separ zo putnextentri entri direntri dir entri zip file base zo inputstream input stream inputstream input stream zipentri zip entri entri zipentri zip entri file getpath path substr base getpath path length zo putnextentri entri entri inputstream input stream fileinputstream file input stream file ioutil util write ioutil util tobytearrai arrai inputstream input stream zo ioutil util closequietli close quietli inputstream input stream 